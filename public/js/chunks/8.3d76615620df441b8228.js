(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+8kN":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".edit-prev-cont[data-v-debf84d2]{padding:6px 0;display:flex;width:100%}.edit-prev-ttl[data-v-debf84d2]{max-width:200px;flex:1;font-weight:700;padding:0 10px 0 14px}.edit-prev-dt[data-v-debf84d2]{flex:1}",""])},"8Q2g":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".edit-prev-cont[data-v-4a10dff3]{padding:6px 0;display:flex;width:100%}.edit-prev-ttl[data-v-4a10dff3]{max-width:200px;flex:1;font-weight:700;padding:0 10px 0 14px}.edit-prev-dt[data-v-4a10dff3]{flex:1}",""])},"9Ldg":function(t,e,a){"use strict";a("tgWE")},FSqf:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"#avatar-col{width:10rem}#page-company-view table td{vertical-align:top;min-width:140px;padding-bottom:.8rem;word-break:break-all}@media screen and (max-width:370px){#page-company-view table:not(.permissions-table) td{display:block}}@media only screen and (min-width:636px) and (max-width:991px),screen and (min-width:1201px) and (max-width:1211px){#account-info-col-1{width:calc(100% - 12rem)!important}}",""])},GhzF:function(t,e,a){"use strict";a("dBqA")},Uj0l:function(t,e,a){var i=a("8Q2g");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},XNQW:function(t,e,a){"use strict";a("Uj0l")},dBqA:function(t,e,a){var i=a("FSqf");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},tgWE:function(t,e,a){var i=a("+8kN");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(i,s);i.locals&&(t.exports=i.locals)},w5Xg:function(t,e,a){"use strict";a.r(e);var i=a("o0o1"),s=a.n(i),n=a("Snq/"),l=a.n(n),o=a("osEC"),r=a("08io"),d=a.n(r);function c(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){c(n,i,s,l,o,"next",t)}function o(t){c(n,i,s,l,o,"throw",t)}l(void 0)}))}}var v={name:"login-info",components:{Cropper:o.a},props:{reqData:{default:{}}},data:function(){return{showPass:!1,loadImageCropper:!1,cropperBoxData:{},cropBoxImage:null,logoPreviewImage:null,logoCoordinates:{width:0,height:0,left:0,top:0},logoData:null,editMode:!1,roleData:[],selectedRole:null,roleOptions:[],permissionsManager:[],userData:{},dafUserData:{},defPerm:[],defLogo:null,defSelectedRole:null}},mounted:function(){this.reqData.userData&&this.loadData()},methods:{loadData:function(){var t=this;return u(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.userData=(i={password:null,name:t.reqData.userData.name,email:t.reqData.userData.email,company:t.reqData.userData.company,phone:t.reqData.userData.phone,id:t.reqData.userData.id},s="company",n=t.reqData.userData.company,s in i?Object.defineProperty(i,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[s]=n,i),t.roleData=t.reqData.rolaData,t.roleOptions=t.reqData.roleList,t.selectedRole=t.reqData.userData.role,t.permissionsManager=t.reqData.userRoles,t.defPerm=_.cloneDeep(t.reqData.userRoles),t.dafUserData=_.cloneDeep(t.userData),t.defSelectedRole=t.selectedRole,a="/storage/company-"+t.reqData.userData.companyid+"/user-"+t.reqData.userData.id+"/"+t.reqData.userData.propic,null==t.reqData.userData.propic){e.next=21;break}return e.prev=10,e.next=13,axios.get(a);case 13:e.sent,t.imgData(a),t.defLogo=a,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),console.log(e.t0);case 21:case"end":return e.stop()}var i,s,n}),e,null,[[10,18]])})))()},fileInput:function(){var t=this;this.cropperBoxData.width=window.innerWidth,this.cropperBoxData.height=window.innerHeight-180;var e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){t.loadImageCropper=!0;var a=e.target;if(a.files&&a.files[0]){var i=new FileReader;i.onload=function(e){t.cropBoxImage=e.target.result,t.cropperBoxData.name=a.files[0].name},i.readAsDataURL(a.files[0])}}},crop:function(){var t=this.$refs.cropper.getResult(),e=t.coordinates,a=t.canvas;this.logoCoordinates=e,this.logoPreviewImage=a.toDataURL(),this.logoData=dataURLtoFile(a.toDataURL(),this.cropperBoxData.name),this.loadImageCropper=!1},imgData:function(t){var e=this;return u(s.a.mark((function a(){var i,n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(t).then((function(t){return t.blob()}));case 2:return i=a.sent,a.next=5,new Promise((function(t){var e=new FileReader;e.onload=function(){return t(e.result)},e.readAsDataURL(i)}));case 5:n=a.sent,e.logoPreviewImage=n;case 7:case"end":return a.stop()}}),a)})))()},roleSelected:function(){var t=this;return u(s.a.mark((function e(){var a,i,n,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.roleData[t.selectedRole].id,i={id:a},e.prev=2,e.next=5,axios.post("/api/user-edit/data/role",i);case 5:n=e.sent,l=n.data,t.permissionsManager=l,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))()},saveData:function(){var t=this,e={name:this.userData.name,email:this.userData.email,phone:this.userData.phone,company:this.userData.company,role:this.selectedRole,permissions:this.permissionsManager,hasFile:["logoData"],logoData:this.logoData,id:this.userData.id};if(null!=this.userData.password&&""!=this.userData.password&&(e.password=this.userData.password),this.validateInput(e)){this.btnDisabled=!0;var a=new FormData;formFiles(e,a),a.append("data",JSON.stringify(e)),axios.post("/api/user-edit/data/login-info-update",a).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.editMode=!1,t.btnDisabled=!1})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response),t.btnDisabled=!1}))}}},watch:{reqData:function(){this.loadData()}}},p=(a("GhzF"),a("KHd+")),m=Object(p.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"page-company-view"}},[t.editMode?t._e():a("div",[a("div",{staticClass:"img-container pb-4 sm:flex",staticStyle:{"border-bottom":"1px solid rgb(0,0,0,.1)"}},[a("div",[a("img",{staticStyle:{"max-width":"200px","border-radius":"50%",border:"1px solid rgb(0,0,0,.1)"},attrs:{src:t.defLogo}})]),t._v(" "),a("div",{staticClass:"text-xl pl-20 py-2 flex w-full"},[a("div",{staticClass:"w-full"},[a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Name: ")]),t._v(" "),a("td",[t._v(t._s(t.dafUserData.name))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Role: ")]),t._v(" "),a("td",[t._v(t._s(t.defSelectedRole))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Email: ")]),t._v(" "),a("td",[t._v(t._s(t.dafUserData.email))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Company: ")]),t._v(" "),a("td",[t._v(t._s(t.dafUserData.company))])])])]),t._v(" "),a("div",[a("div",{staticClass:"pl-2"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){t.editMode=!t.editMode}}})],1)])])]),t._v(" "),a("div",{staticClass:"pt-12"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"flex items-end px-3"},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"LockIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Permissions")])],1),t._v(" "),a("vs-divider")],1)]),t._v(" "),a("div",{staticClass:"block overflow-x-auto"},[a("table",{staticClass:"w-full"},t._l(t.defPerm,(function(e,i){return a("tr",{key:i},[a("td",{staticClass:"px-3 py-2"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.subpermissions,(function(e,i){return a("td",{key:i,staticClass:"px-3 py-2"},[a("div",[t._v(t._s(e.title))])])}))],2)})),0)])])]),t._v(" "),t.editMode?a("div",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"ml-5"},[a("div",{staticClass:"button-wrapper bg-gray-200 cursor-pointer",staticStyle:{width:"150px",height:"150px","background-image":"url('/site/upload.png')","background-repeat":"no-repeat","background-size":"20px 20px","background-position":"center center",border:"1px solid rgb(0,0,0,.1)"},on:{click:function(e){return t.fileInput()}}},[a("img",{staticClass:"w-full",attrs:{src:t.logoPreviewImage}})]),t._v(" "),a("div",{staticClass:"text-center p-1",staticStyle:{width:"150px","font-size":"10px"}},[t._v("Upload user profile picture")])])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"* Name",name:"name"},model:{value:t.userData.name,callback:function(e){t.$set(t.userData,"name",e)},expression:"userData.name"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.userData.name,name:"name"}}),t._v(" "),a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"* Email",type:"email",name:"email"},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}}),t._v(" "),a("validate-data",{attrs:{rules:"required|email",value:t.userData.email,name:"email"}}),t._v(" "),a("vs-input",{staticClass:"w-full mt-4",attrs:{icon:t.showPass?"icon icon-eye":"icon icon-eye-off",type:t.showPass?"text":"password","icon-pack":"feather","icon-no-border":"","icon-after":"true",label:"Password",name:"password"},on:{"icon-click":function(e){t.showPass=!t.showPass}},model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.userData.password,name:"password"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Role",label:"* Role"},on:{input:function(e){return t.roleSelected()}},model:{value:t.selectedRole,callback:function(e){t.selectedRole=e},expression:"selectedRole"}},t._l(t.roleData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.name,text:t.name}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.selectedRole,name:"role"}})],1),t._v(" "),a("vs-input",{staticClass:"w-full mt-5",attrs:{label:"Phone",name:"phone"},model:{value:t.userData.phone,callback:function(e){t.$set(t.userData,"phone",e)},expression:"userData.phone"}})],1),t._v(" "),a("vx-card",{staticClass:"mt-base",attrs:{"no-shadow":""}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"flex items-end px-3"},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"LockIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Permissions")])],1),t._v(" "),a("vs-divider")],1)]),t._v(" "),a("div",{staticClass:"block overflow-x-auto"},[a("table",{staticClass:"w-full"},t._l(t.permissionsManager,(function(e,i){return a("tr",{key:i},[a("td",{staticClass:"px-3 py-2"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.subpermissions,(function(e,i){return a("td",{key:i,staticClass:"px-3 py-2"},[a("vs-checkbox",{model:{value:e.status,callback:function(a){t.$set(e,"status",a)},expression:"permission.status"}},[t._v(t._s(e.title))])],1)}))],2)})),0)])])],1),t._v(" "),a("div",{staticClass:"flex",staticStyle:{"border-top":"1px solid rgb(0,0,0,.1)"}},[a("div",{staticClass:"flex-auto"}),t._v(" "),a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{color:"danger"},on:{click:function(e){t.editMode=!t.editMode}}},[t._v("Cancel")])],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1)])]):t._e(),t._v(" "),a("vs-popup",{attrs:{title:"Crop Image",active:t.loadImageCropper},on:{"update:active":function(e){t.loadImageCropper=e}}},[a("div",{staticClass:"bg-gray-100 w-full overflow-hidden flex justify-center",style:{height:t.cropperBoxData.height+"px"}},[a("cropper",{ref:"cropper",attrs:{src:t.cropBoxImage,"stencil-props":{aspectRatio:1}}})],1),t._v(" "),a("div",{staticClass:"p-3 mt-2 text-center bg-gray-800 text-white cursor-pointer",on:{click:function(e){return t.crop()}}},[t._v("Crop")])])],1)}),[],!1,null,null,null).exports;function f(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}var h={name:"edu-history",components:{},props:{reqData:{default:{}},education:{type:Object,default:function(){return{}}},ser:{default:null}},data:function(){return{defItem:{},editMode:!1,userId:null,resultOption:["Division","CGPA"],degreeOption:[],degreeData:[],divisionOption:[],divisionData:[],instituteData:[],instituteOption:[],passinfYearList:null}},mounted:function(){this.reqData.userData&&this.loadData()},methods:{loadData:function(){var t,e=this;return(t=s.a.mark((function t(){var a,i,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e.defItem=_.cloneDeep(e.education),e.userId=e.reqData.userData.id,e.degreeOption=e.reqData.degreeList,e.degreeData=e.reqData.degreeData,e.divisionOption=e.reqData.divisionList,e.divisionData=e.reqData.divisionData,e.instituteData=e.reqData.instituteData,e.instituteOption=e.reqData.instituteList,a=(new Date).getFullYear()-80,i=[],n=0;80>n;n++)i.unshift(a+n);e.passinfYearList=i,e.defItem.division&&(e.defItem.division=_.filter(e.divisionData,{id:Number(e.defItem.division)})[0].value);case 13:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){f(n,i,s,l,o,"next",t)}function o(t){f(n,i,s,l,o,"throw",t)}l(void 0)}))})()},manageEducation:function(t,e){"resultType"==t?null!=e.resultType&&("division"==e.resultType.toLowerCase()?(this.education.viewDivision=!0,this.education.viewCgpa=!1):"cgpa"==e.resultType.toLowerCase()&&(this.education.viewDivision=!1,this.education.viewCgpa=!0)):"degreeType"==t?null!=e.degreeName&&("undergraduate"==e.degreeName.toLowerCase()||"postgraduate"==e.degreeName.toLowerCase()||"phd"==e.degreeName.toLowerCase()?(this.education.viewInstituteSelect=!0,this.education.viewInstituteinput=!1):(this.education.viewInstituteSelect=!1,this.education.viewInstituteinput=!0)):"otherInstitute"==t&&null!=e.instituteNameSelect&&("others"==e.instituteNameSelect.toLowerCase()?(this.education.viewInstituteSelect=!0,this.education.viewInstituteinput=!0):(this.education.viewInstituteSelect=!0,this.education.viewInstituteinput=!1,this.education.instituteName=e.instituteNameSelect))},attachmentInput:function(){var t=this,e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var a=e.target;a.files&&a.files[0]&&(t.education.certificateAttachment=a.files[0],t.education.attachmentName=a.files[0].name)}},deleteEdu:function(t){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure, you want to delete this education information?",acceptText:"ok",accept:this.deleteDataProceed,parameters:t})},deleteDataProceed:function(t){var e=this,a={id:t};axios.post("/api/user-edit/data/education-history-delete",a).then((function(t){e.notificationAlert(t),e.$parent.$parent.$parent.$parent.loadData()})).catch((function(t){e.notificationAlert(t.response)}))},saveData:function(){var t=this;this.btnDisabled=!0,this.education.userId=this.userId;var e=new FormData;formFiles(this.education,e),e.append("data",JSON.stringify(this.education)),axios.post("/api/user-edit/data/education-history-update",e).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.editMode=!1,t.btnDisabled=!1})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response),t.btnDisabled=!1}))}},watch:{reqData:function(){this.loadData()}}},b=Object(p.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.editMode?t._e():a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full flex pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[a("div",{staticClass:"flex-auto font-bold"},[t._v("Education History - "+t._s(t.ser+1))]),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(e){return t.deleteEdu(t.defItem.id)}}})],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){t.editMode=!t.editMode}}})],1)]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Degree Name:")]),t._v(t._s(t.defItem.degreeName))])]),t._v(" "),a("div",{staticClass:"mt-4"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Institute name:")]),t._v(t._s(t.defItem.instituteName)+"\n                ")])]),t._v(" "),a("div",{staticClass:"mt-4"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Passing year:")]),t._v(t._s(t.defItem.passingYear))])])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("div",{staticClass:"mt-4"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Result type:")]),t._v(t._s(t.defItem.resultType))])])]),t._v(" "),t.education.viewCgpa?a("div",{staticClass:"mt-3"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Out of:")]),t._v(t._s(t.defItem.outof))])]):t._e(),t._v(" "),t.education.viewCgpa?a("div",{staticClass:"mt-3"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("CGPA:")]),t._v(t._s(t.defItem.cgpa))])]):t._e(),t._v(" "),t.education.viewDivision?a("div",{staticClass:"mt-4"},[a("div",{staticClass:"mt-4"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Division:")]),t._v(t._s(t.defItem.division))])])]):t._e()]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("div",{staticClass:"pt-3 pr-3"},[null!=t.defItem.savedFileName?a("div",[a("a",{staticClass:"flex py-2 px-4 cursor-pointer",attrs:{href:t.defItem.eduAttachment,target:"_blank",download:t.defItem.savedFileName}},[a("feather-icon",{attrs:{icon:"PaperclipIcon",svgClasses:"w-4 h-4"}}),t._v(" "),a("span",{staticClass:"ml-2 "},[t._v(t._s(t.defItem.savedFileName))])],1)]):t._e()])])]),t._v(" "),t.editMode?a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full flex pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[a("div",{staticClass:"flex-auto font-bold"},[t._v("Education History - "+t._s(t.ser+1))]),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(e){return t.deleteNominee()}}})],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){t.editMode=!t.editMode}}})],1)]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Degree Name",label:"* Degree Name"},on:{input:function(e){return t.manageEducation("degreeType",t.education)}},model:{value:t.education.degreeName,callback:function(e){t.$set(t.education,"degreeName",e)},expression:"education.degreeName"}},t._l(t.degreeData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.degreeName,name:"degreeName",altName:"degree name"}})],1),t._v(" "),t.education.viewInstituteSelect?a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Institute name",label:"* Institute name"},on:{input:function(e){return t.manageEducation("otherInstitute",t.education)}},model:{value:t.education.instituteNameSelect,callback:function(e){t.$set(t.education,"instituteNameSelect",e)},expression:"education.instituteNameSelect"}},t._l(t.instituteData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.instituteName,name:"instituteName",altName:"institute name"}})],1):t._e(),t._v(" "),t.education.viewInstituteinput?a("div",{staticClass:"mt-4"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"* Institute name"},model:{value:t.education.instituteName,callback:function(e){t.$set(t.education,"instituteName",e)},expression:"education.instituteName"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.instituteName,name:"instituteName",altName:"institute name"}})],1):t._e(),t._v(" "),a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Passing year",label:"* Passing year"},model:{value:t.education.passingYear,callback:function(e){t.$set(t.education,"passingYear",e)},expression:"education.passingYear"}},t._l(t.passinfYearList,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t,text:t}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.passingYear,name:"passingYear",altName:"passing year"}})],1)]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Result type",label:"* Result type"},on:{input:function(e){return t.manageEducation("resultType",t.education)}},model:{value:t.education.resultType,callback:function(e){t.$set(t.education,"resultType",e)},expression:"education.resultType"}},t._l(t.resultOption,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t,text:t}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.resultType,name:"resultType",altName:"result type"}})],1)]),t._v(" "),t.education.viewCgpa?a("div",{staticClass:"mt-3"},[a("vs-input",{staticClass:"w-full",attrs:{label:"* Out of"},model:{value:t.education.outof,callback:function(e){t.$set(t.education,"outof",e)},expression:"education.outof"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.outof,name:"outof",altName:"out of"}})],1):t._e(),t._v(" "),t.education.viewCgpa?a("div",{staticClass:"mt-3"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"* CGPA  "},model:{value:t.education.cgpa,callback:function(e){t.$set(t.education,"cgpa",e)},expression:"education.cgpa"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.cgpa,name:"cgpa",altName:"CGPA"}})],1):t._e(),t._v(" "),t.education.viewDivision?a("div",{staticClass:"mt-4"},[a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Division",label:"* Division"},model:{value:t.education.division,callback:function(e){t.$set(t.education,"division",e)},expression:"education.division"}},t._l(t.divisionData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.division,name:"division",altName:"division"}})],1)]):t._e()]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("div",{staticClass:"pt-3 pr-3 font-bold"},[t._v("Certificate attachment:")]),t._v(" "),a("div",{staticClass:"flex"},[a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"gray"},on:{click:function(e){return t.attachmentInput()}}},[t._v("browse\n                    ")])],1),t._v(" "),a("div",{staticClass:"pl-3 pt-3"},[t._v(t._s(t.education.attachmentName))])])]),t._v(" "),a("div",{staticClass:"w-full flex pr-2"},[a("div",{staticClass:"flex-auto"}),t._v(" "),a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.editMode=!1}}},[t._v("Cancel\n                ")])],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1)])]):t._e()])}),[],!1,null,null,null).exports;function C(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}function D(t){return function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){C(n,i,s,l,o,"next",t)}function o(t){C(n,i,s,l,o,"throw",t)}l(void 0)}))}}var w={name:"new-edu-history",components:{},props:{reqData:{default:{}}},data:function(){return{userId:null,resultOption:["Division","CGPA"],degreeOption:[],degreeData:[],divisionOption:[],divisionData:[],instituteData:[],instituteOption:[],passinfYearList:null,addNew:!1,education:{degreeName:null,instituteName:null,instituteNameSelect:null,passingYear:null,resultType:"CGPA",cgpa:null,outof:null,division:null,viewCgpa:!0,viewDivision:!1,viewInstituteSelect:!1,viewInstituteinput:!0,attachmentName:null,certificateAttachment:null,hasFile:["certificateAttachment"]}}},mounted:function(){this.reqData.userData&&this.loadData()},methods:{loadData:function(){var t=this;return D(s.a.mark((function e(){var a,i,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.userId=t.reqData.userData.id,t.degreeOption=t.reqData.degreeList,t.degreeData=t.reqData.degreeData,t.divisionOption=t.reqData.divisionList,t.divisionData=t.reqData.divisionData,t.instituteData=t.reqData.instituteData,t.instituteOption=t.reqData.instituteList,a=(new Date).getFullYear()-80,i=[],n=0;80>n;n++)i.unshift(a+n);t.passinfYearList=i;case 11:case"end":return e.stop()}}),e)})))()},attachmentInput:function(){var t=this,e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var a=e.target;a.files&&a.files[0]&&(t.education.certificateAttachment=a.files[0],t.education.attachmentName=a.files[0].name)}},manageEducation:function(t,e){"resultType"==t?null!=e.resultType&&("division"==e.resultType.toLowerCase()?(this.education.viewDivision=!0,this.education.viewCgpa=!1):"cgpa"==e.resultType.toLowerCase()&&(this.education.viewDivision=!1,this.education.viewCgpa=!0)):"degreeType"==t?null!=e.degreeName&&("undergraduate"==e.degreeName.toLowerCase()||"postgraduate"==e.degreeName.toLowerCase()||"phd"==e.degreeName.toLowerCase()?(this.education.viewInstituteSelect=!0,this.education.viewInstituteinput=!1):(this.education.viewInstituteSelect=!1,this.education.viewInstituteinput=!0)):"otherInstitute"==t&&null!=e.instituteNameSelect&&("others"==e.instituteNameSelect.toLowerCase()?(this.education.viewInstituteSelect=!0,this.education.viewInstituteinput=!0):(this.education.viewInstituteSelect=!0,this.education.viewInstituteinput=!1,this.education.instituteName=e.instituteNameSelect))},saveData:function(){var t=this;return D(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.btnDisabled=!0,t.education.userId=t.userId,a=new FormData,formFiles(t.education,a),a.append("data",JSON.stringify(t.education)),axios.post("/api/user-edit/data/education-history-create",a).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.addNew=!1,t.education.degreeName=null,t.education.instituteName=null,t.education.instituteNameSelect=null,t.education.passingYear=null,t.education.resultType="CGPA",t.education.cgpa=null,t.education.outof=null,t.education.division=null,t.education.viewCgpa=!0,t.education.viewDivision=!1,t.education.viewInstituteSelect=!1,t.education.viewInstituteinput=!0,t.education.attachmentName=null,t.education.certificateAttachment=null,t.btnDisabled=!1})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response),t.btnDisabled=!1}));case 6:case"end":return e.stop()}}),e)})))()}},watch:{reqData:function(){this.loadData()}}},y=Object(p.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-3 mt-5",staticStyle:{"border-top":"1px solid #f2f2f2"}},[t.addNew?a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Degree Name",label:"* Degree Name"},on:{input:function(e){return t.manageEducation("degreeType",t.education)}},model:{value:t.education.degreeName,callback:function(e){t.$set(t.education,"degreeName",e)},expression:"education.degreeName"}},t._l(t.degreeData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.degreeName,name:"degreeName",altName:"degree name"}})],1),t._v(" "),t.education.viewInstituteSelect?a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Institute name",label:"* Institute name"},on:{input:function(e){return t.manageEducation("otherInstitute",t.education)}},model:{value:t.education.instituteNameSelect,callback:function(e){t.$set(t.education,"instituteNameSelect",e)},expression:"education.instituteNameSelect"}},t._l(t.instituteData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.instituteName,name:"instituteName",altName:"institute name"}})],1):t._e(),t._v(" "),t.education.viewInstituteinput?a("div",{staticClass:"mt-4"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"* Institute name"},model:{value:t.education.instituteName,callback:function(e){t.$set(t.education,"instituteName",e)},expression:"education.instituteName"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.instituteName,name:"instituteName",altName:"institute name"}})],1):t._e(),t._v(" "),a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Passing year",label:"* Passing year"},model:{value:t.education.passingYear,callback:function(e){t.$set(t.education,"passingYear",e)},expression:"education.passingYear"}},t._l(t.passinfYearList,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t,text:t}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.passingYear,name:"passingYear",altName:"passing year"}})],1)]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Result type",label:"* Result type"},on:{input:function(e){return t.manageEducation("resultType",t.education)}},model:{value:t.education.resultType,callback:function(e){t.$set(t.education,"resultType",e)},expression:"education.resultType"}},t._l(t.resultOption,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t,text:t}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.resultType,name:"resultType",altName:"result type"}})],1)]),t._v(" "),t.education.viewCgpa?a("div",{staticClass:"mt-3"},[a("vs-input",{staticClass:"w-full",attrs:{label:"* Out of"},model:{value:t.education.outof,callback:function(e){t.$set(t.education,"outof",e)},expression:"education.outof"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.outof,name:"outof",altName:"out of"}})],1):t._e(),t._v(" "),t.education.viewCgpa?a("div",{staticClass:"mt-3"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"* CGPA  "},model:{value:t.education.cgpa,callback:function(e){t.$set(t.education,"cgpa",e)},expression:"education.cgpa"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.cgpa,name:"cgpa",altName:"CGPA"}})],1):t._e(),t._v(" "),t.education.viewDivision?a("div",{staticClass:"mt-4"},[a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Division",label:"* Division"},model:{value:t.education.division,callback:function(e){t.$set(t.education,"division",e)},expression:"education.division"}},t._l(t.divisionData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.education.division,name:"division",altName:"division"}})],1)]):t._e()]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("div",{staticClass:"pt-3 pr-3 font-bold"},[t._v("Certificate attachment: ")]),t._v(" "),a("div",{staticClass:"flex"},[a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"gray"},on:{click:function(e){return t.attachmentInput("certificate",t.index)}}},[t._v("browse")])],1),t._v(" "),a("div",{staticClass:"pl-3 pt-3"},[t._v(t._s(t.education.attachmentName))])])])]):t._e(),t._v(" "),a("div",{staticClass:"w-full flex pr-2"},[a("div",{staticClass:"flex-auto"}),t._v(" "),t.addNew?a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.addNew=!1}}},[t._v("Cancel")])],1):t._e(),t._v(" "),t.addNew?a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1):t._e(),t._v(" "),t.addNew?t._e():a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small"},on:{click:function(e){t.addNew=!0}}},[t._v("Add new")])],1)])])}),[],!1,null,null,null).exports;function g(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}var x={name:"feature-info",components:{},props:{reqData:{default:{}}},data:function(){return{defItem:{},feature:{},id:null,editMode:!1,designation:null,designationOption:[],designationData:[],payRoll:null,payrollOption:[],payRollData:[],leavePackage:null,leavePackageOption:[],leavePackageData:[],assetPackage:null,assetPackageOption:[],assetPackageData:[],jobDescription:null,jobDescriptionOption:[],jobDescriptionData:[],employeeType:null,employeeTypeOption:[],employeeTypeData:[]}},mounted:function(){this.reqData.userData&&this.loadData()},methods:{loadData:function(){var t,e=this;return(t=s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=_.cloneDeep(e.reqData.employee),e.feature=_.cloneDeep(e.reqData),e.id=e.feature.userData.id,e.designation=e.feature.employee.designation,e.payRoll=e.feature.employee.payrollpackage,e.leavePackage=e.feature.employee.leavepackage,e.assetPackage=e.feature.employee.assetpackage,e.jobDescription=e.feature.employee.jobdescription,e.employeeType=e.feature.employee.employeetype,e.designationOption=e.reqData.designationList,e.designationData=e.reqData.designationData,e.leavePackageOption=e.feature.leaveList,e.leavePackageData=e.feature.leaveData,e.assetPackageOption=e.feature.assetList,e.assetPackageData=e.feature.assetData,e.payrollOption=e.feature.payrollList,e.payRollData=e.feature.payrollData,e.jobDescriptionOption=e.feature.jobDescriptionList,e.jobDescriptionData=e.feature.jobDescriptionData,e.employeeTypeOption=e.feature.employeeTypeList,e.employeeTypeData=e.feature.employeeTypeData,e.defItem={designation:_.filter(e.designationData,{id:Number(a.designation)})[0].value,payRoll:_.filter(e.payRollData,{id:Number(a.payrollpackage)})[0].name,leavePackage:_.filter(e.leavePackageData,{id:Number(a.leavepackage)})[0].name,assetPackage:_.filter(e.assetPackageData,{id:Number(a.assetpackage)})[0].name,jobDescription:_.filter(e.jobDescriptionData,{id:Number(a.jobdescription)})[0].name,employeeType:_.filter(e.employeeTypeData,{id:Number(a.employeetype)})[0].value};case 22:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){g(n,i,s,l,o,"next",t)}function o(t){g(n,i,s,l,o,"throw",t)}l(void 0)}))})()},saveData:function(){var t=this,e={designation:this.designation,payRoll:this.payRoll,leavePackage:this.leavePackage,assetPackage:this.assetPackage,jobDescription:this.jobDescription,employeeType:this.employeeType,id:this.id};this.validateInput(e)&&(this.btnDisabled=!0,axios.post("/api/user-edit/data/feature-update",e).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.editMode=!1,t.btnDisabled=!1})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response),t.btnDisabled=!1})))}},watch:{reqData:function(){this.loadData()}}},k=(a("9Ldg"),Object(p.a)(x,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.editMode?t._e():a("div",[a("div",{staticClass:"vx-row flex px-4 pb-6"},[a("div",{staticClass:"flex-auto text-2xl"},[t._v("Feature")]),t._v(" "),a("div",[a("div",{staticClass:"pl-2"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){t.editMode=!t.editMode}}})],1)])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Designation:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.designation))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Job description:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.jobDescription))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Employee Type:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.employeeType))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Payroll package:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.payRoll))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Leave package:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.leavePackage))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Asset package:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.assetPackage))])])])]),t._v(" "),t.editMode?a("div",{staticStyle:{"min-height":"300px"}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Designation",label:"* Designation"},model:{value:t.designation,callback:function(e){t.designation=e},expression:"designation"}},t._l(t.designationData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1)],1),t._v(" "),a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Job description",label:"* Job description"},model:{value:t.jobDescription,callback:function(e){t.jobDescription=e},expression:"jobDescription"}},t._l(t.jobDescriptionData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.name}})})),1)],1),t._v(" "),a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Employee Type",label:"* Employee Type"},model:{value:t.employeeType,callback:function(e){t.employeeType=e},expression:"employeeType"}},t._l(t.employeeTypeData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1)],1)]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Payroll package",label:"* Payroll package"},model:{value:t.payRoll,callback:function(e){t.payRoll=e},expression:"payRoll"}},t._l(t.payRollData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.name}})})),1)],1),t._v(" "),a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Leave package",label:"* Leave package"},model:{value:t.leavePackage,callback:function(e){t.leavePackage=e},expression:"leavePackage"}},t._l(t.leavePackageData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.name}})})),1)],1),t._v(" "),a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Asset package",label:"* Asset package"},model:{value:t.assetPackage,callback:function(e){t.assetPackage=e},expression:"assetPackage"}},t._l(t.assetPackageData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.name}})})),1)],1)])]),t._v(" "),a("div",{staticClass:"w-full flex",attrs:{align:"right"}},[a("div",{staticClass:"flex-auto"}),t._v(" "),a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.editMode=!1}}},[t._v("Cancel\n                ")])],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1)])]):t._e()])}),[],!1,null,"debf84d2",null).exports);function I(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}var N={name:"GeneralInfo",components:{},props:{reqData:{default:{}}},data:function(){return{editMode:!1,genInfo:{},defItem:{},id:null,name:null,personalEmail:null,officeEmail:null,personalPhone:null,officePhone:null,verificationIdOption:["NID","Passport"],verificationidtype:null,verificationIdFile:null,verificationIdFileName:null,verificationIdNumber:null,nationalityOption:[],nationalityData:[],nationality:null,bloodgroup:null,bloodgroupOption:[],bloodgroupData:[],dateOfBirth:null,genderOption:[],genderData:[],gender:null,religion:null,religionOption:[],religionData:[],meritalStatus:!1,presentAddressLine1:null,presentAddressLine2:null,presentAddressCitySelect:null,presentAddressCityOtherView:!1,presentAddressCity:null,presentAddressPostCode:null,permanentAddressLine1:null,permanentAddressLine2:null,permanentAddressCitySelect:null,permanentAddressCityOtherView:!1,permanentAddressCity:null,permanentaddressPostCode:null,addressCityData:[],addressCityList:[],attachment:null}},mounted:function(){this.reqData.userData&&this.loadData()},methods:{loadData:function(){var t,e=this;return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.defItem=_.cloneDeep(e.reqData.employee),e.genInfo=_.cloneDeep(e.reqData),e.attachment="/storage/company-"+e.genInfo.userData.companyid+"/user-"+e.genInfo.userData.id+"/document/"+e.defItem.verificationidfile,e.id=e.genInfo.userData.id,e.personalEmail=e.genInfo.employee.personalemail,e.officeEmail=e.genInfo.employee.officeemail,e.personalPhone=e.genInfo.employee.personalmobile,e.officePhone=e.genInfo.employee.officemobile,e.verificationidtype=e.genInfo.employee.verificationidtype,e.verificationIdNumber=e.genInfo.employee.verificationidnumber,e.nationality=e.genInfo.employee.nationality,e.bloodgroup=e.genInfo.employee.bloodgroup,e.dateOfBirth=e.genInfo.employee.dateofbirth,e.gender=e.genInfo.employee.gender,e.religion=e.genInfo.employee.religion,e.meritalStatus=e.genInfo.employee.meritalstatus,e.addressCityData=e.genInfo.cityData,e.addressCityList=e.genInfo.cityList,e.presentAddressLine1=e.genInfo.employee.permanentaddressline1,e.presentAddressLine2=e.genInfo.employee.permanentaddressline2,e.presentAddressCity=e.genInfo.employee.presentaddresscity,e.presentAddressPostCode=e.genInfo.employee.presentaddresspostcode,e.addressCityList.indexOf(e.presentaddresscity)>-1?(e.presentAddressCitySelect=e.presentAddressCity,e.presentAddressCityOtherView=!1):null!=e.presentAddressCity&&(e.presentAddressCitySelect="others",e.presentAddressCityOtherView=!0),e.permanentAddressLine1=e.genInfo.employee.permanentaddressline1,e.permanentAddressLine2=e.genInfo.employee.permanentaddressline2,e.permanentAddressCity=e.genInfo.employee.permanentaddresscity,e.permanentaddressPostCode=e.genInfo.employee.permanentaddresspostcode,e.addressCityList.indexOf(e.permanentAddressCity)>-1?(e.permanentAddressCitySelect=e.permanentAddressCity,e.permanentAddressCityOtherView=!1):null!=e.permanentAddressCity&&(e.permanentAddressCitySelect="others",e.permanentAddressCityOtherView=!0),e.nationalityOption=e.genInfo.nationalityList,e.nationalityData=e.genInfo.nationalityData,e.bloodgroupOption=e.genInfo.bloodgroupList,e.bloodgroupData=e.genInfo.bloodgroupData,e.genderOption=e.genInfo.genderList,e.genderData=e.genInfo.genderData,e.religionOption=e.genInfo.religionList,e.religionData=e.genInfo.religionData,null!=e.defItem.gender&&(e.defItem.gender=_.filter(e.genderData,{id:Number(e.defItem.gender)})[0].value),null!=e.defItem.religion&&(e.defItem.religion=_.filter(e.religionData,{id:Number(e.defItem.religion)})[0].value),null!=e.defItem.bloodgroup&&(e.defItem.bloodgroup=_.filter(e.bloodgroupData,{id:Number(e.defItem.bloodgroup)})[0].value),null!=e.defItem.nationality&&(e.defItem.nationality=_.filter(e.nationalityData,{id:Number(e.defItem.nationality)})[0].value),null!=e.defItem.meritalstatus&&(1==e.defItem.meritalstatus&&(e.defItem.meritalstatus="Married"),0==e.defItem.meritalstatus&&(e.defItem.meritalstatus="Unmarried")),null!=e.defItem.dateofbirth&&(e.defItem.dateofbirth=e.defItem.dateofbirth.split("T")[0]);case 42:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){I(n,i,s,l,o,"next",t)}function o(t){I(n,i,s,l,o,"throw",t)}l(void 0)}))})()},manageInfo:function(t){"presentAddressCity"==t?null!=this.presentAddressCitySelect&&("others"==this.presentAddressCitySelect.toLowerCase()?(this.presentAddressCityOtherView=!0,this.presentAddressCity=""):(this.presentAddressCityOtherView=!1,this.presentAddressCity=this.presentAddressCitySelect)):"permanentAddressCity"==t&&null!=this.permanentAddressCitySelect&&("others"==this.permanentAddressCitySelect.toLowerCase()?(this.permanentAddressCityOtherView=!0,this.permanentAddressCity=""):(this.permanentAddressCityOtherView=!1,this.permanentAddressCity=this.permanentAddressCitySelect))},attachmentInput:function(){var t=this,e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var a=e.target;a.files&&a.files[0]&&(t.verificationIdFile=a.files[0],t.verificationIdFileName=a.files[0].name)}},saveData:function(){var t=this,e={personalEmail:this.personalEmail,officeEmail:this.officeEmail,personalPhone:this.personalPhone,officePhone:this.officePhone,verificationidtype:this.verificationidtype,verificationIdFile:this.verificationIdFile,verificationIdNumber:this.verificationIdNumber,nationality:this.nationality,bloodgroup:this.bloodgroup,dateOfBirth:this.dateOfBirth,gender:this.gender,religion:this.religion,meritalStatus:this.meritalStatus,presentAddressLine1:this.presentAddressLine1,presentAddressLine2:this.presentAddressLine2,presentAddressPostCode:this.presentAddressPostCode,presentAddressCity:this.presentAddressCity,permanentAddressLine1:this.permanentAddressLine1,permanentAddressLine2:this.permanentAddressLine2,permanentaddressPostCode:this.permanentaddressPostCode,permanentAddressCity:this.permanentAddressCity,id:this.id,hasFile:["verificationIdFile"]};if(this.validateInput(e)){this.btnDisabled=!0;var a=new FormData;formFiles(e,a),a.append("data",JSON.stringify(e)),axios.post("/api/user-edit/data/general-info-update",a).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.editMode=!1,t.btnDisabled=!1})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response),t.btnDisabled=!1}))}}},watch:{reqData:function(){this.loadData()}}},A=(a("XNQW"),Object(p.a)(N,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.editMode?t._e():a("div",[a("div",{staticClass:"vx-row flex px-4 pb-6"},[a("div",{staticClass:"flex-auto text-2xl"},[t._v("General Info")]),t._v(" "),a("div",[a("div",{staticClass:"pl-2"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){t.editMode=!t.editMode}}})],1)])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Office Email:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.officeemail))])])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Personal Phone:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.personalmobile))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Office Phone:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.officemobile))])])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Date of Birth:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.dateofbirth))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Gender:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.gender))])])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Marital Status:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.meritalstatus))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Religion:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.religion))])])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Blood Group:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.bloodgroup))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Nationality:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.nationality))])])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Verification ID No.:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.verificationidnumber)+" ("+t._s(t.defItem.verificationidtype)+")")])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"pt-3 pr-3"},[null!=t.defItem.verificationidfile?a("div",[a("a",{staticClass:"flex py-2 px-4 cursor-pointer ",attrs:{href:t.attachment,target:"_blank",download:t.defItem.verificationidfile}},[a("feather-icon",{attrs:{icon:"PaperclipIcon",svgClasses:"w-4 h-4"}}),t._v(" "),a("span",{staticClass:"ml-2"},[t._v(t._s(t.defItem.verificationidfile))])],1)]):t._e()])])]),t._v(" "),a("div",{staticClass:"font-bold pt-12"},[t._v("Present Address")]),t._v(" "),a("vs-divider",{}),t._v(" "),a("div",{staticClass:"vx-row flex pb-2"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Address:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.presentaddressline1)+" "+t._s(t.defItem.presentAddressL2))])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("City:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.presentaddresscity))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Post Code:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.presentaddresspostcode))])])]),t._v(" "),a("div",{staticClass:"font-bold pt-12"},[t._v("Permanent Address")]),t._v(" "),a("vs-divider",{}),t._v(" "),a("div",{staticClass:"vx-row flex pb-2"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Address:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.permanentaddressline1)+" "+t._s(t.defItem.permanentaddressline2))])]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("City:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.permanentaddresscity))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 edit-prev-cont"},[a("div",{staticClass:"edit-prev-ttl"},[t._v("Post Code:")]),t._v(" "),a("div",{staticClass:"edit-prev-dt"},[t._v(t._s(t.defItem.permanentaddresspostcode))])])])],1),t._v(" "),t.editMode?a("div",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Office email"},model:{value:t.officeEmail,callback:function(e){t.officeEmail=e},expression:"officeEmail"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Personal phone"},model:{value:t.personalPhone,callback:function(e){t.personalPhone=e},expression:"personalPhone"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Office Phone"},model:{value:t.officePhone,callback:function(e){t.officePhone=e},expression:"officePhone"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("v-date-picker",{attrs:{color:"purple",masks:{input:"YYYY-MM-DD"}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents;return[a("vs-input",t._g({staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon icon-calendar",label:"* Date of birth",value:i}},s))]}}],null,!1,2857588128),model:{value:t.dateOfBirth,callback:function(e){t.dateOfBirth=e},expression:"dateOfBirth"}})],1),t._v(" "),a("div",{staticClass:"mt-4 vx-col md:w-1/2 w-full px-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Bloodgroup",label:"Bloodgroup"},model:{value:t.bloodgroup,callback:function(e){t.bloodgroup=e},expression:"bloodgroup"}},t._l(t.bloodgroupData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1)],1),t._v(" "),a("div",{staticClass:"mt-4 md:w-1/2 w-full pt-1 px-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Gender",label:"Gender"},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},t._l(t.genderData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1)],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full flex pt-10"},[a("div",[a("vs-checkbox",{model:{value:t.meritalStatus,callback:function(e){t.meritalStatus=e},expression:"meritalStatus"}},[t._v("Marital status")])],1)]),t._v(" "),a("div",{staticClass:"mt-4 md:w-1/2 w-full px-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Religion",label:"Religion"},model:{value:t.religion,callback:function(e){t.religion=e},expression:"religion"}},t._l(t.religionData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1)],1),t._v(" "),a("div",{staticClass:"mt-4 md:w-1/2 w-full px-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Nationality",label:"Nationality"},model:{value:t.nationality,callback:function(e){t.nationality=e},expression:"nationality"}},t._l(t.nationalityData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1)],1),t._v(" "),a("div",{staticClass:"mt-4 md:w-1/2 w-full px-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"NID/Passport",label:"NID/Passport"},model:{value:t.verificationidtype,callback:function(e){t.verificationidtype=e},expression:"verificationidtype"}},t._l(t.verificationIdOption,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t,text:t}})})),1)],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"NID/Passport number"},model:{value:t.verificationIdNumber,callback:function(e){t.verificationIdNumber=e},expression:"verificationIdNumber"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("div",{staticClass:"pt-3 pr-3 font-bold"},[t._v("NID/Passport:")]),t._v(" "),a("div",{staticClass:"flex"},[a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"gray"},on:{click:function(e){return t.attachmentInput()}}},[t._v("\n                            browse\n                        ")])],1),t._v(" "),a("div",{staticClass:"pl-3 pt-3"},[t._v(t._s(t.verificationIdFileName))])])])]),t._v(" "),a("div",{staticClass:"font-bold pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[t._v(" Present address\n        ")]),t._v(" "),a("div",[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Address line 1"},model:{value:t.presentAddressLine1,callback:function(e){t.presentAddressLine1=e},expression:"presentAddressLine1"}})],1),t._v(" "),a("div",[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Address line 2"},model:{value:t.presentAddressLine2,callback:function(e){t.presentAddressLine2=e},expression:"presentAddressLine2"}})],1),t._v(" "),a("div",{staticClass:"flex"},[a("div",{staticClass:"w-full pr-1 pt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"City",label:"City"},on:{input:function(e){return t.manageInfo("presentAddressCity")}},model:{value:t.presentAddressCitySelect,callback:function(e){t.presentAddressCitySelect=e},expression:"presentAddressCitySelect"}},t._l(t.addressCityData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.value}})})),1)],1),t._v(" "),a("div",{staticClass:"w-full pl-1"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"post code"},model:{value:t.presentAddressPostCode,callback:function(e){t.presentAddressPostCode=e},expression:"presentAddressPostCode"}})],1)]),t._v(" "),t.presentAddressCityOtherView?a("div",[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"City/Area"},model:{value:t.presentAddressCity,callback:function(e){t.presentAddressCity=e},expression:"presentAddressCity"}})],1):t._e(),t._v(" "),a("div",{staticClass:"font-bold pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[t._v("\n            Permanent address\n        ")]),t._v(" "),a("div",[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Address  line 1"},model:{value:t.permanentAddressLine1,callback:function(e){t.permanentAddressLine1=e},expression:"permanentAddressLine1"}})],1),t._v(" "),a("div",[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Address line 2"},model:{value:t.permanentAddressLine2,callback:function(e){t.permanentAddressLine2=e},expression:"permanentAddressLine2"}})],1),t._v(" "),a("div",{staticClass:"flex"},[a("div",{staticClass:"w-full pr-1 pt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"City",label:"City"},on:{input:function(e){return t.manageInfo("permanentAddressCity")}},model:{value:t.permanentAddressCitySelect,callback:function(e){t.permanentAddressCitySelect=e},expression:"permanentAddressCitySelect"}},t._l(t.addressCityData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.value}})})),1)],1),t._v(" "),a("div",{staticClass:"w-full pl-1"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"post code"},model:{value:t.permanentaddressPostCode,callback:function(e){t.permanentaddressPostCode=e},expression:"permanentaddressPostCode"}})],1)]),t._v(" "),t.permanentAddressCityOtherView?a("div",[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"City/Area"},model:{value:t.permanentAddressCity,callback:function(e){t.permanentAddressCity=e},expression:"permanentAddressCity"}})],1):t._e(),t._v(" "),a("div",{staticClass:"w-full flex",attrs:{align:"right"}},[a("div",{staticClass:"flex-auto"}),t._v(" "),a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.editMode=!1}}},[t._v("Cancel\n                ")])],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save\n                ")])],1)])]):t._e()])}),[],!1,null,"4a10dff3",null).exports);function q(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}function P(t){return function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){q(n,i,s,l,o,"next",t)}function o(t){q(n,i,s,l,o,"throw",t)}l(void 0)}))}}var S={name:"job-history",components:{},props:{reqData:{default:{}},job:{type:Object,default:function(){return{}}},ser:{default:null}},data:function(){return{editMode:!1,defItem:{},userId:null,designationOption:[],designationData:[]}},mounted:function(){this.reqData.userData&&this.loadData()},methods:{loadData:function(){var t=this;return P(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.defItem=_.cloneDeep(t.job),t.userId=t.reqData.userData.id,t.designationOption=t.reqData.designationList,t.designationData=t.reqData.designationData,t.defItem.designation=_.filter(t.designationData,{id:Number(t.defItem.designation)})[0].value,a=t.defItem.jobDuration.start.split("T")[0]+" - "+t.defItem.jobDuration.end.split("T")[0],t.defItem.jobDuration=a;case 7:case"end":return e.stop()}}),e)})))()},deleteJob:function(t){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure, you want to delete this job history?",acceptText:"ok",accept:this.deleteDataProceed,parameters:t})},deleteDataProceed:function(t){var e=this;return P(s.a.mark((function a(){var i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i={id:t},axios.post("/api/user-edit/data/job-history-delete",i).then((function(t){e.notificationAlert(t),e.$parent.$parent.$parent.$parent.loadData()})).catch((function(t){e.notificationAlert(t.response)}));case 2:case"end":return a.stop()}}),a)})))()},saveData:function(){var t=this;return P(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.btnDisabled=!0,t.job.userId=t.userId,axios.post("/api/user-edit/data/job-history-update",t.job).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.editMode=!1,t.btnDisabled=!1})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response),t.btnDisabled=!1}));case 3:case"end":return e.stop()}}),e)})))()}},watch:{reqData:function(){this.loadData()}}},$=Object(p.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.editMode?t._e():a("div",[a("div",{staticClass:"vx-col w-full flex pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[a("div",{staticClass:"flex-auto font-bold"},[t._v("Job History - "+t._s(t.ser+1))]),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(e){return t.deleteJob(t.defItem.id)}}})],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){t.editMode=!t.editMode}}})],1)]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Organization name:")]),t._v(t._s(t.defItem.orgName))])]),t._v(" "),a("div",{staticClass:"mt-2"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Designation:")]),t._v(t._s(t.defItem.designation))])])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-2"},[a("div",{staticClass:"w-full pt-1"},[a("span",{staticClass:"font-bold pr-2"},[t._v("job duration:")]),t._v(t._s(t.defItem.jobDuration))])])]),t._v(" "),a("div",{staticClass:"vx-col w-full pt-8"},[a("div",[a("div",{staticClass:"w-full mt-3"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Responsibility:")]),t._v(t._s(t.defItem.responsibility))])]),t._v(" "),a("div",[a("div",{staticClass:"w-full mt-3"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Skill:")]),t._v(t._s(t.defItem.skill))])])])])]),t._v(" "),t.editMode?a("div",[a("div",{staticClass:"vx-col w-full flex pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[a("div",{staticClass:"flex-auto font-bold"},[t._v("Job History - "+t._s(t.ser+1))]),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(e){return t.deleteJob()}}})],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){t.editMode=!t.editMode}}})],1)]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"* Organization name"},model:{value:t.job.orgName,callback:function(e){t.$set(t.job,"orgName",e)},expression:"job.orgName"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.orgName,name:"orgName",altName:"organization name"}})],1),t._v(" "),a("div",{staticClass:"mt-2"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Designation",label:"* Designation"},model:{value:t.job.designation,callback:function(e){t.$set(t.job,"designation",e)},expression:"job.designation"}},t._l(t.designationData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.designation,name:"designation",altName:"designation"}})],1)]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("v-date-picker",{attrs:{"is-range":"",color:"purple",masks:{input:"YYYY-MM-DD"}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents;return[a("vs-input",t._g({staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon icon-calendar",label:"* Job Duration",value:i.start+" - "+i.end}},s.start))]}}],null,!1,3755079664),model:{value:t.job.jobDuration,callback:function(e){t.$set(t.job,"jobDuration",e)},expression:"job.jobDuration"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.jobDuration,name:"jobDuration",altName:"job duration"}})],1)]),t._v(" "),a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"pt-6"},[a("vs-textarea",{attrs:{label:"* Responsibility"},model:{value:t.job.responsibility,callback:function(e){t.$set(t.job,"responsibility",e)},expression:"job.responsibility"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.responsibility,name:"responsibility",altName:"responsibility"}})],1),t._v(" "),a("div",[a("vs-input",{staticClass:"w-full",attrs:{label:"* Skill "},model:{value:t.job.skill,callback:function(e){t.$set(t.job,"skill",e)},expression:"job.skill"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.skill,name:"skill",altName:"skill"}})],1)])]),t._v(" "),a("div",{staticClass:"w-full flex",attrs:{align:"right"}},[a("div",{staticClass:"flex-auto"}),t._v(" "),a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.editMode=!1}}},[t._v("Cancel")])],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1)])]):t._e()])}),[],!1,null,null,null).exports;function j(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}function O(t){return function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){j(n,i,s,l,o,"next",t)}function o(t){j(n,i,s,l,o,"throw",t)}l(void 0)}))}}var L={name:"new-job-history",components:{},props:{reqData:{default:{}}},data:function(){return{designationOption:[],designationData:[],addNew:!1,userId:null,job:{orgName:null,designation:null,jobDuration:{start:new Date,end:new Date},responsibility:null,skill:null}}},mounted:function(){this.reqData.relationshipTypeList&&this.loadData()},methods:{loadData:function(){var t=this;return O(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.userId=t.reqData.userData.id,t.designationOption=t.reqData.designationList,t.designationData=t.reqData.designationData;case 3:case"end":return e.stop()}}),e)})))()},saveData:function(){var t=this;return O(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.btnDisabled=!0,t.job.userId=t.userId,axios.post("/api/user-edit/data/job-history-create",t.job).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.addNew=!1,t.job.orgName=null,t.job.designation=null,t.job.jobDuration={start:new Date,end:new Date},t.job.responsibility=null,t.job.skill=null})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response)}));case 3:case"end":return e.stop()}}),e)})))()}},watch:{reqData:function(){this.loadData()}}},T=Object(p.a)(L,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-3 mt-5",staticStyle:{"border-top":"1px solid #f2f2f2"}},[t.addNew?a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"* Organization name"},model:{value:t.job.orgName,callback:function(e){t.$set(t.job,"orgName",e)},expression:"job.orgName"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.orgName,name:"orgName",altName:"organization name"}})],1),t._v(" "),a("div",{staticClass:"mt-2"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Designation",label:"* Designation"},model:{value:t.job.designation,callback:function(e){t.$set(t.job,"designation",e)},expression:"job.designation"}},t._l(t.designationData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.designation,name:"designation",altName:"designation"}})],1)]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("v-date-picker",{attrs:{"is-range":"",color:"purple",masks:{input:"YYYY-MM-DD"}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents;return[a("vs-input",t._g({staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon icon-calendar",label:"* Job Duration",value:i.start+" - "+i.end}},s.start))]}}],null,!1,3755079664),model:{value:t.job.jobDuration,callback:function(e){t.$set(t.job,"jobDuration",e)},expression:"job.jobDuration"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.jobDuration,name:"jobDuration",altName:"job duration"}})],1)]),t._v(" "),a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"pt-6"},[a("vs-textarea",{attrs:{label:"* Responsibility"},model:{value:t.job.responsibility,callback:function(e){t.$set(t.job,"responsibility",e)},expression:"job.responsibility"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.responsibility,name:"responsibility",altName:"responsibility"}})],1),t._v(" "),a("div",[a("vs-input",{staticClass:"w-full",attrs:{label:"* Skill "},model:{value:t.job.skill,callback:function(e){t.$set(t.job,"skill",e)},expression:"job.skill"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.skill,name:"skill",altName:"skill"}})],1)])]):t._e(),t._v(" "),a("div",{staticClass:"w-full flex",attrs:{align:"right"}},[a("div",{staticClass:"flex-auto"}),t._v(" "),t.addNew?a("div",[t.addNew?a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.addNew=!1}}},[t._v("Cancel")]):t._e()],1):t._e(),t._v(" "),t.addNew?a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1):t._e(),t._v(" "),t.addNew?t._e():a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small"},on:{click:function(e){t.addNew=!0}}},[t._v("Add new")])],1)])])}),[],!1,null,null,null).exports;function M(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}var z={components:{},name:"nominee-info",props:{reqData:{default:{}},nominee:{type:Object,default:function(){return{}}},ser:{default:null}},data:function(){return{defItem:{},userId:null,relationTypeOption:[],relationshipTypeData:[],editMode:!1}},filters:{truncate:function(t,e,a){return t.length>e?t.substring(0,e)+a:t}},mounted:function(){this.reqData.userData&&this.loadData()},methods:{loadData:function(){var t,e=this;return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.defItem=_.cloneDeep(e.nominee),e.userId=e.reqData.userData.id,e.relationTypeOption=e.reqData.relationshipTypeList,e.relationshipTypeData=e.reqData.relationshipTypeData,e.defItem.relationshiptype=_.filter(e.relationshipTypeData,{id:Number(e.defItem.relationshiptype)})[0].value,1==e.defItem.nominee?e.defItem.nominee="Nominee":e.defItem.nominee="Family member";case 6:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){M(n,i,s,l,o,"next",t)}function o(t){M(n,i,s,l,o,"throw",t)}l(void 0)}))})()},attachmentInput:function(){var t=this,e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var a=e.target;a.files&&a.files[0]&&(t.nominee.nomineeIdAttachment=a.files[0],t.nominee.nomineeAttachmentName=a.files[0].name)}},deleteNominee:function(t){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure, you want to delete this nominee?",acceptText:"ok",accept:this.deleteDataProceed,parameters:t})},deleteDataProceed:function(t){var e=this,a={id:t};axios.post("/api/user-edit/data/nominee-delete",a).then((function(t){e.notificationAlert(t),e.$parent.$parent.$parent.$parent.loadData()})).catch((function(t){e.errorData=t.response.data.errors,e.notificationAlert(t.response)}))},saveData:function(){var t=this;this.btnDisabled=!0,this.nominee.userId=this.userId;var e=new FormData;formFiles(this.nominee,e),e.append("data",JSON.stringify(this.nominee)),axios.post("/api/user-edit/data/nominee-update",e).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.editMode=!1,t.btnDisabled=!1})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response),t.btnDisabled=!1}))}},watch:{reqData:function(){this.loadData()}}},E=Object(p.a)(z,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.editMode?t._e():a("div",[a("div",[a("div",{staticClass:"vx-col w-full flex pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[a("div",{staticClass:"flex-auto font-bold"},[t._v("Nominee - "+t._s(t.ser+1))]),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(e){return t.deleteNominee(t.defItem.id)}}})],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){t.editMode=!t.editMode}}})],1)]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"mt-4 vx-col md:w-1/2 w-full"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Family member name:")]),t._v(t._s(t.defItem.familymembername))])]),t._v(" "),a("div",{staticClass:"mt-4 vx-col md:w-1/2 w-full"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Relationship type:")]),t._v(t._s(t.defItem.relationshiptype))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4 pt-1"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Status:")]),t._v(t._s(t.defItem.nominee))])])]),t._v(" "),null!=t.defItem.savedFileName?a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("a",{staticClass:"flex py-2 px-4 cursor-pointer ",attrs:{href:t.defItem.nomineeAttachment,download:t.defItem.savedFileName}},[a("feather-icon",{attrs:{icon:"PaperclipIcon",svgClasses:"w-4 h-4"}}),t._v(" "),a("span",{staticClass:"ml-2"},[t._v(t._s(t.defItem.savedFileName))])],1)]):t._e()])])]),t._v(" "),t.editMode?a("div",[a("div",[a("div",{staticClass:"vx-col w-full flex pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[a("div",{staticClass:"flex-auto font-bold"},[t._v("Nominee - "+t._s(t.ser+1))]),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(e){return t.deleteNominee()}}})],1)]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"* family member name "},model:{value:t.nominee.familymembername,callback:function(e){t.$set(t.nominee,"familymembername",e)},expression:"nominee.familymembername"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.nominee.familymembername,name:"familymembername",altName:"family member name"}})],1),t._v(" "),a("div",{staticClass:"mt-4 vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Relationship type",label:"* Relationship type"},model:{value:t.nominee.relationshiptype,callback:function(e){t.$set(t.nominee,"relationshiptype",e)},expression:"nominee.relationshiptype"}},t._l(t.relationshipTypeData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.nominee.relationshiptype,name:"relationshiptype",altName:"relationship type"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("div",{staticClass:"pt-3 pr-3 font-bold"},[t._v("Id attachment: ")]),t._v(" "),a("div",{staticClass:"flex"},[a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"gray"},on:{click:function(e){return t.attachmentInput()}}},[t._v("browse")])],1),t._v(" "),a("div",{staticClass:"pl-3 pt-3"},[t._v(t._s(t.nominee.nomineeAttachmentName))])])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4 pt-1"},[a("vs-checkbox",{model:{value:t.nominee.nominee,callback:function(e){t.$set(t.nominee,"nominee",e)},expression:"nominee.nominee"}},[t._v("Nominee")])],1)])])]),t._v(" "),a("div",{staticClass:"w-full flex",attrs:{align:"right"}},[a("div",{staticClass:"flex-auto"}),t._v(" "),a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.editMode=!1}}},[t._v("Cancel")])],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1)])]):t._e()])}),[],!1,null,null,null).exports;function F(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}var R={name:"new-nominee",components:{},props:{reqData:{default:{}}},data:function(){return{relationTypeOption:[],relationshipTypeData:[],addNew:!1,userId:null,nominee:{familymembername:null,relationshiptype:null,nominee:!0,hasFile:["nomineeIdAttachment"],nomineeIdAttachment:null,nomineeAttachmentName:null}}},mounted:function(){this.reqData.relationshipTypeList&&this.loadData()},methods:{loadData:function(){var t,e=this;return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.userId=e.reqData.userData.id,e.relationTypeOption=e.reqData.relationshipTypeList,e.relationshipTypeData=e.reqData.relationshipTypeData;case 3:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){F(n,i,s,l,o,"next",t)}function o(t){F(n,i,s,l,o,"throw",t)}l(void 0)}))})()},attachmentInput:function(){var t=this,e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var a=e.target;a.files&&a.files[0]&&(t.nominee.nomineeIdAttachment=a.files[0],t.nominee.nomineeAttachmentName=a.files[0].name)}},saveData:function(){var t=this;this.btnDisabled=!0,this.nominee.userId=this.userId;var e=new FormData;formFiles(this.nominee,e),e.append("data",JSON.stringify(this.nominee)),console.log("Hasib",this.nominee),axios.post("/api/user-edit/data/nominee-create",e).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.addNew=!1,t.nominee.familymembername=null,t.nominee.relationshiptype=null,t.nominee.nominee=!0,t.nominee.nomineeIdAttachment=null,t.nominee.nomineeAttachmentName=null,t.btnDisabled=!1})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response),t.btnDisabled=!1}))}},watch:{reqData:function(){this.loadData()}}},Y=Object(p.a)(R,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-3 mt-5",staticStyle:{"border-top":"1px solid #f2f2f2"}},[t.addNew?a("div",[a("div",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"* family member name "},model:{value:t.nominee.familymembername,callback:function(e){t.$set(t.nominee,"familymembername",e)},expression:"nominee.familymembername"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.nominee.familymembername,name:"familymembername",altName:"family member name"}})],1),t._v(" "),a("div",{staticClass:"mt-4 vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Relationship type",label:"* Relationship type"},model:{value:t.nominee.relationshiptype,callback:function(e){t.$set(t.nominee,"relationshiptype",e)},expression:"nominee.relationshiptype"}},t._l(t.relationshipTypeData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.nominee.relationshiptype,name:"relationshiptype",altName:"relationship type"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("div",{staticClass:"pt-3 pr-3 font-bold"},[t._v("Id attachment: ")]),t._v(" "),a("div",{staticClass:"flex"},[a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"gray"},on:{click:function(e){return t.attachmentInput()}}},[t._v("browse")])],1),t._v(" "),a("div",{staticClass:"pl-3 pt-3"},[t._v(t._s(t.nominee.nomineeAttachmentName))])])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4 pt-1"},[a("vs-checkbox",{model:{value:t.nominee.nominee,callback:function(e){t.$set(t.nominee,"nominee",e)},expression:"nominee.nominee"}},[t._v("Nominee")])],1)])])])]):t._e(),t._v(" "),a("div",{staticClass:"w-full flex",attrs:{align:"right"}},[a("div",{staticClass:"flex-auto"}),t._v(" "),t.addNew?a("div",[t.addNew?a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.addNew=!1}}},[t._v("Cancel")]):t._e()],1):t._e(),t._v(" "),t.addNew?a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1):t._e(),t._v(" "),t.addNew?t._e():a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small"},on:{click:function(e){t.addNew=!0}}},[t._v("Add new")])],1)])])}),[],!1,null,null,null).exports;function B(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}var J={name:"employee-document",components:{},data:function(){return{defItem:{},userId:null,documentTitle:[],documentData:[],editMode:!1}},props:{reqData:{default:{}},doc:{type:Object,default:function(){return{}}},ser:{default:null}},mounted:function(){this.reqData.userData&&this.loadData()},methods:{loadData:function(){var t,e=this;return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.defItem=_.cloneDeep(e.doc),e.userId=e.reqData.userData.id;case 2:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){B(n,i,s,l,o,"next",t)}function o(t){B(n,i,s,l,o,"throw",t)}l(void 0)}))})()},attachmentInput:function(){var t=this,e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var a=e.target;a.files&&a.files[0]&&(t.doc.documentAttachment=a.files[0],t.defItem.savedFileName=a.files[0].name)}},deleteNominee:function(t){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure, you want to delete this document?",acceptText:"ok",accept:this.deleteDataProceed,parameters:t})},deleteDataProceed:function(t){var e=this,a={id:t};axios.post("/api/user-edit/data/employee-document-delete",a).then((function(t){e.$parent.$parent.$parent.$parent.loadData(),e.notificationAlert(t)})).catch((function(t){e.notificationAlert(t.response),e.btnDisabled=!1}))},saveData:function(){var t=this;this.btnDisabled=!0,this.doc.document_title=this.defItem.document_title;var e=new FormData;formFiles(this.doc,e),e.append("data",JSON.stringify(this.doc)),axios.post("/api/user-edit/data/employee-document-update",e).then((function(e){t.$parent.$parent.$parent.$parent.loadData(),t.notificationAlert(e),t.editMode=!1,t.btnDisabled=!1})).catch((function(e){t.notificationAlert(e.response),t.btnDisabled=!1}))}},watch:{reqData:function(){this.loadData()}}},G=Object(p.a)(J,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.editMode?t._e():a("div",[a("div",[a("div",{staticClass:"vx-col w-full flex pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[a("div",{staticClass:"flex-auto font-bold"},[t._v("Document - "+t._s(t.ser+1))]),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(e){return t.deleteNominee(t.defItem.id)}}})],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){t.editMode=!t.editMode}}})],1)]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"mt-4 vx-col md:w-1/2 w-full"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Document Title:")]),t._v(t._s(t.defItem.document_title)+"\n                    ")])]),t._v(" "),null!=t.defItem.savedFileName?a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("a",{staticClass:"flex py-2 px-4 cursor-pointer ",attrs:{href:t.defItem.document_attachment,download:t.defItem.savedFileName}},[a("feather-icon",{attrs:{icon:"PaperclipIcon",svgClasses:"w-4 h-4"}}),t._v(" "),a("span",{staticClass:"ml-2"},[t._v(t._s(t.defItem.savedFileName))])],1)]):t._e()])])]),t._v(" "),t.editMode?a("div",[a("div",[a("div",{staticClass:"vx-col w-full flex pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[a("div",{staticClass:"flex-auto font-bold"},[t._v("Document - "+t._s(t.ser+1))]),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(e){return t.deleteNominee()}}})],1)]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Documnet Title"},model:{value:t.defItem.document_title,callback:function(e){t.$set(t.defItem,"document_title",e)},expression:"defItem.document_title"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.defItem.document_title,name:"Document Title",altName:"Document Title"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("div",{staticClass:"pt-3 pr-3 font-bold"},[t._v("Document attachment:")]),t._v(" "),a("div",{staticClass:"flex"},[a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"gray"},on:{click:function(e){return t.attachmentInput()}}},[t._v("\n                                browse\n                            ")])],1),t._v(" "),a("div",{staticClass:"pl-3 pt-3"},[t._v(t._s(t.defItem.savedFileName))])])])])]),t._v(" "),a("div",{staticClass:"w-full flex",attrs:{align:"right"}},[a("div",{staticClass:"flex-auto"}),t._v(" "),a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.editMode=!1}}},[t._v("Cancel\n                ")])],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1)])]):t._e()])}),[],!1,null,null,null).exports;function V(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}var H={name:"new-employee-document",components:{},props:{reqData:{default:{}}},data:function(){return{addNew:!1,userId:null,doc:{document_title:null,doc:!0,hasFile:["documentAttachment"],documentAttachmentName:null}}},mounted:function(){this.loadData()},methods:{loadData:function(){var t,e=this;return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.userId=e.reqData.userData.id;case 1:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){V(n,i,s,l,o,"next",t)}function o(t){V(n,i,s,l,o,"throw",t)}l(void 0)}))})()},attachmentInput:function(){var t=this,e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var a=e.target;a.files&&a.files[0]&&(t.doc.documentAttachment=a.files[0],t.doc.documentAttachmentName=a.files[0].name)}},saveData:function(){var t=this;this.btnDisabled=!0,this.doc.userId=this.userId;var e=new FormData;formFiles(this.doc,e),e.append("data",JSON.stringify(this.doc)),axios.post("/api/user-edit/data/employee-document-create",e).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.doc.document_title=null,t.doc.documentAttachmentName=null,t.doc.documentAttachment=null,t.addNew=!1,t.btnDisabled=!1})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response),t.btnDisabled=!1}))}},watch:{reqData:function(){this.loadData()}}},U=Object(p.a)(H,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-3 mt-5",staticStyle:{"border-top":"1px solid #f2f2f2"}},[t.addNew?a("div",[a("div",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Document Title"},model:{value:t.doc.document_title,callback:function(e){t.$set(t.doc,"document_title",e)},expression:"doc.document_title"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.doc.document_title,name:"document_title",altName:"Document Title"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("div",{staticClass:"pt-3 pr-3 font-bold"},[t._v("Document Attachment: ")]),t._v(" "),a("div",{staticClass:"flex"},[a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"gray"},on:{click:function(e){return t.attachmentInput()}}},[t._v("browse")])],1),t._v(" "),a("div",{staticClass:"pl-3 pt-3"},[t._v(t._s(t.doc.documentAttachmentName))])])])])])]):t._e(),t._v(" "),a("div",{staticClass:"w-full flex",attrs:{align:"right"}},[a("div",{staticClass:"flex-auto"}),t._v(" "),t.addNew?a("div",[t.addNew?a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.addNew=!1}}},[t._v("Cancel")]):t._e()],1):t._e(),t._v(" "),t.addNew?a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1):t._e(),t._v(" "),t.addNew?t._e():a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small"},on:{click:function(e){t.addNew=!0}}},[t._v("Add new")])],1)])])}),[],!1,null,null,null).exports;function W(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}var Q={name:"skill-info",components:{},props:{reqData:{default:{}},skill:{type:Object,default:function(){return{}}},ser:{default:null}},data:function(){return{editMode:!1,defItem:{},userId:null,skillNameOption:[],skillNameData:[],skillScaleOption:[],skillScaleData:[]}},mounted:function(){this.reqData.userData&&this.loadData()},methods:{loadData:function(){var t,e=this;return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.defItem=_.cloneDeep(e.skill),e.userId=e.reqData.userData.id,e.skillNameOption=e.reqData.skillNameList,e.skillNameData=e.reqData.skillNameData,e.skillScaleOption=e.reqData.skillScaleList,e.skillScaleData=e.reqData.skillScaleData,e.defItem.skillsname=_.filter(e.skillNameData,{id:Number(e.defItem.skillsname)})[0].value,e.defItem.skillsscale=_.filter(e.skillScaleData,{id:Number(e.defItem.skillsscale)})[0].value;case 8:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){W(n,i,s,l,o,"next",t)}function o(t){W(n,i,s,l,o,"throw",t)}l(void 0)}))})()},deleteSkill:function(t){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure, you want to delete this skill?",acceptText:"ok",accept:this.deleteDataProceed,parameters:t})},deleteDataProceed:function(t){var e=this,a={id:t};axios.post("/api/user-edit/data/skill-delete",a).then((function(t){e.notificationAlert(t),e.$parent.$parent.$parent.$parent.loadData()})).catch((function(t){e.errorData=t.response.data.errors,e.notificationAlert(t.response)}))},saveData:function(){var t=this;this.btnDisabled=!0,this.skill.userId=this.userId,axios.post("/api/user-edit/data/skill-update",this.skill).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.editMode=!1,t.btnDisabled=!1})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response),t.btnDisabled=!1}))}},watch:{reqData:function(){this.loadData()}}},X=Object(p.a)(Q,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.editMode?t._e():a("div",[a("div",{staticClass:"vx-col w-full flex pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[a("div",{staticClass:"flex-auto font-bold"},[t._v("Skill matrix - "+t._s(t.ser+1))]),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(e){return t.deleteSkill(t.defItem.id)}}})],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){t.editMode=!t.editMode}}})],1)]),t._v(" "),a("div",{staticClass:"vx-row pt-3"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Skill name:")]),t._v(t._s(t.defItem.skillsname))])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"w-full"},[a("span",{staticClass:"font-bold pr-2"},[t._v("Skill scale:")]),t._v(t._s(t.defItem.skillsscale))])])])]),t._v(" "),t.editMode?a("div",[a("div",{staticClass:"vx-col w-full flex pt-8 pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[a("div",{staticClass:"flex-auto font-bold"},[t._v("Skill matrix - "+t._s(t.ser+1))]),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(e){return t.deleteSkill()}}})],1)]),t._v(" "),a("div",{staticClass:"vx-row pt-3"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"skill name",label:"* skill name"},model:{value:t.skill.skillsname,callback:function(e){t.$set(t.skill,"skillsname",e)},expression:"skill.skillsname"}},t._l(t.skillNameData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.skill.skillsname,name:"skillsname",altName:"skill name"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"skill scale",label:"* skill scale"},model:{value:t.skill.skillsscale,callback:function(e){t.$set(t.skill,"skillsscale",e)},expression:"skill.skillsscale"}},t._l(t.skillScaleData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.skill.skillsscale,name:"skillsscale",altName:"skill scale"}})],1)]),t._v(" "),a("div",{staticClass:"w-full flex",attrs:{align:"right"}},[a("div",{staticClass:"flex-auto"}),t._v(" "),a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.editMode=!1}}},[t._v("Cancel")])],1),t._v(" "),a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1)])]):t._e()])}),[],!1,null,null,null).exports;function K(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}var Z={name:"new-skill",components:{},props:{reqData:{default:{}}},data:function(){return{addNew:!1,userId:null,skillNameOption:[],skillNameData:[],skillScaleOption:[],skillScaleData:[],skill:{skillsname:null,skillsscale:null}}},mounted:function(){this.reqData.userData&&this.loadData()},methods:{loadData:function(){var t,e=this;return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.userId=e.reqData.userData.id,e.skillNameOption=e.reqData.skillNameList,e.skillNameData=e.reqData.skillNameData,e.skillScaleOption=e.reqData.skillScaleList,e.skillScaleData=e.reqData.skillScaleData;case 5:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){K(n,i,s,l,o,"next",t)}function o(t){K(n,i,s,l,o,"throw",t)}l(void 0)}))})()},deleteSkill:function(){},saveData:function(){var t=this;this.btnDisabled=!0,this.skill.userId=this.userId,axios.post("/api/user-edit/data/skill-create",this.skill).then((function(e){t.notificationAlert(e),t.$parent.$parent.$parent.$parent.loadData(),t.addNew=!1,t.editMode=!1,t.skill.skillsname=null,t.skill.skillsscale=null})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response)}))}},watch:{reqData:function(){this.loadData()}}},tt=Object(p.a)(Z,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-3 mt-8",staticStyle:{"border-top":"1px solid #f2f2f2"}},[t.addNew?a("div",{staticClass:"vx-row pt-3"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"skill name",label:"* skill name"},model:{value:t.skill.skillsname,callback:function(e){t.$set(t.skill,"skillsname",e)},expression:"skill.skillsname"}},t._l(t.skillNameData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.skill.skillsname,name:"skillsname",altName:"skill name"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"skill scale",label:"* skill scale"},model:{value:t.skill.skillsscale,callback:function(e){t.$set(t.skill,"skillsscale",e)},expression:"skill.skillsscale"}},t._l(t.skillScaleData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.id,text:t.value}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.skill.skillsscale,name:"skillsscale",altName:"skill scale"}})],1)]):t._e(),t._v(" "),a("div",{staticClass:"w-full flex",attrs:{align:"right"}},[a("div",{staticClass:"flex-auto"}),t._v(" "),t.addNew?a("div",[t.addNew?a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"danger"},on:{click:function(e){t.addNew=!1}}},[t._v("Cancel")]):t._e()],1):t._e(),t._v(" "),t.addNew?a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"mt-2",attrs:{size:"small",disabled:t.btnDisabled},on:{click:function(e){return t.saveData()}}},[t._v("Save")])],1):t._e(),t._v(" "),t.addNew?t._e():a("div",{staticClass:"pl-2"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small"},on:{click:function(e){t.addNew=!0}}},[t._v("Add new")])],1)])])}),[],!1,null,null,null).exports;function et(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}var at={name:"org-tree",components:{},props:{reqData:{default:{}}},data:function(){return{}},mounted:function(){this.reqData.userData&&this.loadData()},methods:{loadData:function(){return(t=s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){et(n,i,s,l,o,"next",t)}function o(t){et(n,i,s,l,o,"throw",t)}l(void 0)}))})();var t},saveData:function(){}},watch:{reqData:function(){this.loadData()}}},it=Object(p.a)(at,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null).exports;function st(t,e,a,i,s,n,l){try{var o=t[n](l),r=o.value}catch(t){return void a(t)}o.done?e(r):Promise.resolve(r).then(i,s)}var nt={components:{vSelect:l.a,Cropper:o.a,VJstree:d.a,loginInfo:m,eduHistory:b,newEduHistory:y,featureInfo:k,generalInfo:A,jobHistory:$,newJobHistory:T,nomineeInfo:E,newNominee:Y,EmployeeDocument:G,newEmployeeDocument:U,skillInfo:X,newSkill:tt,tree:it},props:{},data:function(){return{reqData:{},treeSaveBtn:!1,selectedTree:null,organizationTree:[],educationData:[],instituteData:[],instituteOption:[],jobHistoryData:[],nomineeData:[],skillMatrixData:[],EmployeeDocumentData:[]}},mounted:function(){this.loadData()},methods:{chkData:function(){this.loadData()},loadData:function(){var t,e=this;return(t=s.a.mark((function t(){var a,i,n,l,o,r,d,c,u,v,p,m,f,h,_,b,C,D;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e.$route.params.id},t.prev=1,t.next=4,axios.post("/api/user-edit/data",a);case 4:for(i=t.sent,e.reqData=i.data,e.organizationTree=i.data.organizationTree,e.userData={password:null,name:i.data.userData.name,email:i.data.userData.email,company:i.data.userData.company,phone:i.data.userData.phone,id:i.data.userData.id},e.instituteData=i.data.instituteData,e.instituteOption=i.data.instituteList,n=[],l=0;i.data.educationhistory.length>l;l++)o=i.data.educationhistory[l],(r={attachmentName:null,certificateAttachment:null,hasFile:["certificateAttachment"]}).degreeName=o.degreename,r.instituteName=o.institutename,r.instituteNameSelect=o.institutename,r.passingYear=o.passingyear,r.resultType=o.resulttype,r.savedFileName=o.certificateattachment,r.id=o.id,r.eduAttachment="/storage/company-"+i.data.userData.companyid+"/user-"+i.data.userData.id+"/document/"+o.certificateattachment,r.cgpa=o.cgpa,r.outof=o.outof,"CGPA"==o.resulttype&&(r.viewCgpa=!0),r.division=o.division,"Division"==o.resulttype&&(r.viewDivision=!0),("undergraduate"==o.degreename.toLowerCase()||"postgraduate"==o.degreename.toLowerCase()||"phd"==o.degreename.toLowerCase())&&e.instituteOption.indexOf(o.institutename)>-1?(r.viewInstituteSelect=!0,r.viewInstituteinput=!1):(r.viewInstituteSelect=!1,r.viewInstituteinput=!0),r.attachmentDownload=o.certificateattachment,n.push(r);for(e.educationData=n,d=[],l=0;i.data.jobhistory.length>l;l++)c=i.data.jobhistory[l],(u={}).orgName=c.orgname,u.designation=c.designation,u.jobDuration={start:c.jobstartdate,end:c.jobclosedate},u.responsibility=c.responsibility,u.skill=c.skill,u.id=c.id,d.push(u);for(e.jobHistoryData=d,v=[],l=0;i.data.nominee.length>l;l++)p=i.data.nominee[l],(m={hasFile:["nomineeIdAttachment"],nomineeIdAttachment:null,nomineeAttachmentName:null}).familymembername=p.familymembername,m.relationshiptype=p.relationshiptype,m.nominee=p.nominee,m.id=p.id,m.nomineeAttachment="/storage/company-"+i.data.userData.companyid+"/user-"+i.data.userData.id+"/document/"+p.verificationidfile,m.savedFileName=p.verificationidfile,v.push(m);for(e.nomineeData=v,f=[],l=0;i.data.skillmatrice.length>l;l++)h=i.data.skillmatrice[l],(_={}).skillsname=h.skillsname,_.skillsscale=h.skillsscale,_.id=h.id,f.push(_);for(e.skillMatrixData=f,b=[],l=0;i.data.employee_document.length>l;l++)C=i.data.employee_document[l],(D={documentTitle:null,documentFiles:null,hasFile:["documentAttachment"],documentAttachment:null,documentAttachmentName:null}).document_title=C.document_title,D.document=C.employee_document,D.id=C.id,D.document_attachment="/storage/company-"+i.data.userData.companyid+"/user-"+i.data.userData.id+"/document/"+C.document_attachment,D.savedFileName=C.document_attachment,b.push(D);e.EmployeeDocumentData=b,t.next=31;break;case 27:t.prev=27,t.t0=t.catch(1),e.notificationAlert(t.t0.response),console.log(t.t0);case 31:case"end":return t.stop()}}),t,null,[[1,27]])})),function(){var e=this,a=arguments;return new Promise((function(i,s){var n=t.apply(e,a);function l(t){st(n,i,s,l,o,"next",t)}function o(t){st(n,i,s,l,o,"throw",t)}l(void 0)}))})()},treeItemClick:function(t,e,a){this.selectedTree=e,this.treeSaveBtn=!0},updateTree:function(){var t=this;if(null!=this.selectedTree){var e={id:this.reqData.userData.id,selectedTree:this.selectedTree.organizationid};axios.post("/api/user-edit/data/organization-tree-update",e).then((function(e){t.notificationAlert(e),t.loadData(),t.treeSaveBtn=!1})).catch((function(e){t.errorData=e.response.data.errors,t.notificationAlert(e.response)}))}}}},lt=Object(p.a)(nt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vx-card",{attrs:{title:""}},[a("div",[a("div",[a("vs-tabs",{staticClass:"tab-action-btn-fill-container"},[a("vs-tab",{attrs:{label:"Login Info","icon-pack":"feather",icon:"icon-file-text"}},[a("login-info",{attrs:{reqData:t.reqData}})],1),t._v(" "),a("vs-tab",{staticStyle:{"min-height":"300px"},attrs:{label:"General Info","icon-pack":"feather",icon:"icon-file-text"}},[a("general-info",{attrs:{reqData:t.reqData}})],1),t._v(" "),a("vs-tab",{attrs:{label:"Feature","icon-pack":"feather",icon:"icon-file-text"}},[a("feature-info",{attrs:{reqData:t.reqData}})],1),t._v(" "),a("vs-tab",{staticStyle:{"min-height":"300px"},attrs:{label:"Organization tree","icon-pack":"feather",icon:"icon-file-text"}},[a("div",[a("div",{staticStyle:{"min-height":"220px"}},[a("v-jstree",{attrs:{data:t.organizationTree,size:"large","show-checkbox":""},on:{"item-click":t.treeItemClick}})],1),t._v(" "),t.treeSaveBtn?a("div",{staticClass:"flex"},[a("div",{staticClass:"flex-auto"}),t._v(" "),a("div",[a("vs-button",{staticClass:"mt-2",attrs:{size:"small"},on:{click:function(e){return t.updateTree()}}},[t._v("Save")])],1)]):t._e()])]),t._v(" "),a("vs-tab",{staticStyle:{"min-height":"300px"},attrs:{label:"Education History","icon-pack":"feather",icon:"icon-file-text"}},[t._l(t.educationData,(function(e,i){return a("div",{key:i},[a("edu-history",{attrs:{reqData:t.reqData,education:e,ser:i}})],1)})),t._v(" "),a("new-edu-history",{attrs:{reqData:t.reqData}})],2),t._v(" "),a("vs-tab",{staticStyle:{"min-height":"300px"},attrs:{label:"Job History","icon-pack":"feather",icon:"icon-file-text"}},[t._l(t.jobHistoryData,(function(e,i){return a("div",{key:i},[a("job-history",{attrs:{reqData:t.reqData,job:e,ser:i}})],1)})),t._v(" "),a("div",{staticClass:"w-full"},[a("new-job-history",{attrs:{reqData:t.reqData}})],1)],2),t._v(" "),a("vs-tab",{staticStyle:{"min-height":"300px"},attrs:{label:"Nominee","icon-pack":"feather",icon:"icon-file-text"}},[t._l(t.nomineeData,(function(e,i){return a("div",{key:i},[a("nominee-info",{attrs:{reqData:t.reqData,nominee:e,ser:i}})],1)})),t._v(" "),a("div",[a("new-nominee",{attrs:{reqData:t.reqData}})],1)],2),t._v(" "),a("vs-tab",{staticStyle:{"min-height":"300px"},attrs:{label:"Skill Matrix","icon-pack":"feather",icon:"icon-file-text"}},[t._l(t.skillMatrixData,(function(e,i){return a("div",{key:i},[a("skill-info",{attrs:{reqData:t.reqData,skill:e,ser:i}})],1)})),t._v(" "),a("div",[a("new-skill",{attrs:{reqData:t.reqData}})],1)],2),t._v(" "),a("vs-tab",{staticStyle:{"min-height":"300px"},attrs:{label:"Employee Docs","icon-pack":"feather",icon:"icon-file-text"}},[t._l(t.EmployeeDocumentData,(function(e,i){return a("div",{key:i},[a("employee-document",{attrs:{reqData:t.reqData,doc:e,ser:i}})],1)})),t._v(" "),a("div",[a("new-employee-document",{attrs:{reqData:t.reqData}})],1)],2)],1)],1)])])}),[],!1,null,null,null);e.default=lt.exports}}]);