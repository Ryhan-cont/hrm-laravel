(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"1VRh":function(t,e,a){"use strict";a("yaFq")},"4ulQ":function(t,e,a){"use strict";a("DCac")},"6Q50":function(t,e,a){"use strict";a("V1iH")},"6pPs":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"#profile-tabs .vs-tabs--content{padding:0}",""])},"7YeT":function(t,e,a){"use strict";a("JDWu")},"8rVl":function(t,e,a){var s=a("fDn/");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)},B5o3:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"#job-info-view table td{vertical-align:top;min-width:140px;padding-bottom:.8rem;word-break:break-all}@media only screen and (min-width:636px) and (max-width:991px),screen and (min-width:1201px) and (max-width:1211px){.edu-info-col-1{width:calc(100% - 12rem)!important}}",""])},DCac:function(t,e,a){var s=a("jHpy");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)},JDWu:function(t,e,a){var s=a("6pPs");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)},LlY9:function(t,e,a){"use strict";a("8rVl")},OTmQ:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"#nominee-info-view table td{vertical-align:top;min-width:140px;padding-bottom:.8rem}@media only screen and (min-width:636px) and (max-width:991px),screen and (min-width:1201px) and (max-width:1211px){.nominee-info-col-1{width:calc(100% - 12rem)!important}}",""])},QVyN:function(t,e,a){var s=a("n23o");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)},V1iH:function(t,e,a){var s=a("ZDpo");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)},X71R:function(t,e,a){"use strict";a.r(e);var s=a("o0o1"),i=a.n(s),n=a("osEC"),o=a("Snq/"),l=a.n(o);function r(t,e,a,s,i,n,o){try{var l=t[n](o),r=l.value}catch(t){return void a(t)}l.done?e(r):Promise.resolve(r).then(s,i)}var c={components:{Cropper:n.a,vSelect:l.a},data:function(){return{shoWPermissions:!1,hideDesignation:!0,hidePayroll:!0,hideAssetPackage:!0,hideJobDescription:!0,hideLeavePackage:!0,hideEmployeeType:!0,con_show:!1,previewProfile:!1,loadImageCropper:!1,cropperBoxData:{},cropBoxImage:null,logoPreviewImage:null,logoCoordinates:{width:0,height:0,left:0,top:0},logoData:null,userData:{phone:""},basicEdit:!1,imageEdit:!1,packageEdit:!1,user_info:"",org_info:"",user_not_found:!1,role:[],roleData:[],selectedRole:"",designationData:[],designation:{value:null,label:"",type:""},assetPackage:{value:null,label:"",type:""},assetPackageData:[],assetData:[],leaveData:[],leavePackage:{value:null,label:"",type:""},leavePackageOption:[],leavePackageData:[],payrollData:[],payRoll:{value:null,label:"",type:""},payrollOption:[],payRollData:[],jobDescription:{value:null,label:"",type:""},jobDescriptionOption:[],jobDescriptionData:[],employeeTypeData:[],employeeType:{value:null,label:"",type:""},contract_range:null,showCalender:!1,dateRange:{start:"",end:""},con_date_info:null}},methods:{fetchUserInfo:function(){var t=this;axios.get("/api/profile/basic-info/".concat(this.$route.params.id)).then((function(e){200===e.status?(console.log(e.data.user_info),t.user_info=e.data.user_info,t.userData.phone=e.data.user_info.phone,t.selectedRole=e.data.user_info.roleid,t.roleData=e.data.user_info.roleData):t.notificationAlert(e)})).catch((function(e){t.notificationAlert(e.response),console.log(e),t.user_not_found=!0}))},fileInput:function(){var t=this;this.cropperBoxData.width=window.innerWidth,this.cropperBoxData.height=window.innerHeight-180;var e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){t.loadImageCropper=!0;var a=e.target;if(a.files&&a.files[0]){var s=new FileReader;s.onload=function(e){t.cropBoxImage=e.target.result,t.cropperBoxData.name=a.files[0].name},s.readAsDataURL(a.files[0])}}},crop:function(){var t=this.$refs.cropper.getResult(),e=t.coordinates,a=t.canvas;this.logoCoordinates=e,this.logoPreviewImage=a.toDataURL(),this.logoData=dataURLtoFile(a.toDataURL(),this.cropperBoxData.name),this.loadImageCropper=!1},imgData:function(t){var e,a=this;return(e=i.a.mark((function e(){var s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(t){return t.blob()}));case 2:return s=e.sent,e.next=5,new Promise((function(t){var e=new FileReader;e.onload=function(){return t(e.result)},e.readAsDataURL(s)}));case 5:n=e.sent,a.logoPreviewImage=n;case 7:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(s,i){var n=e.apply(t,a);function o(t){r(n,s,i,o,l,"next",t)}function l(t){r(n,s,i,o,l,"throw",t)}o(void 0)}))})()},roleSelected:function(){var t=this,e={id:this.selectedRole.value,user_id:this.user_info.id};axios.post("/api/profile/data/roledata",e).then((function(e){t.roleData=e.data.roleData})).catch((function(e){t.notificationAlert(e.response)}))},fetchOrgInfo:function(){var t=this;axios.get("/api/profile/organization-info/".concat(this.$route.params.id)).then((function(e){200===e.status?(t.org_info=e.data.org_info,t.contract_range=e.data.contract_info.range,t.con_date_info=e.data.contract_info,t.con_show=e.data.contract_info.is_contract):t.notificationAlert(e)})).catch((function(e){t.notificationAlert(e.response),console.log(e)}))},UserRole:function(){var t=this;axios.get("/api/profile/role").then((function(e){t.role=e.data.role})).catch((function(e){t.notificationAlert(e.response)}))},GetPackage:function(){var t=this;axios.get("/api/profile/package").then((function(e){console.log(e.data),t.leavePackageData=e.data.leaveData,t.assetPackageData=e.data.assetData,t.payRollData=e.data.payrollData,t.jobDescriptionData=e.data.jobDescriptionData,t.designationData=e.data.designationData,t.employeeTypeData=e.data.employeeTypeData,t.designation=t.org_info.designation_id,t.jobDescription=t.org_info.job_description_id,t.employeeType=t.org_info.employee_type_id,t.payRoll=t.org_info.payroll_package_id,t.leavePackage=t.org_info.leave_package_id,t.assetPackage=t.org_info.asset_package_id})).catch((function(e){t.notificationAlert(e.response)}))},checkEmployeeType:function(t){console.log(t),this.dateRange={start:"",end:""},16===t?(this.showCalender=!0,this.showDateOnPreview=!0):(this.showCalender=!1,this.showDateOnPreview=!1)},callPopup:function(t){"userinfo"===t&&(this.UserRole(),this.logoPreviewImage=this.user_info.propic_url,this.basicEdit=!this.basicEdit),"package"===t&&(this.GetPackage(),this.packageEdit=!this.packageEdit,this.showCalender=this.con_show,this.dateRange={start:new Date(this.con_date_info.start_date),end:new Date(this.con_date_info.end_date)}),"image_change"===t&&(this.logoPreviewImage=this.user_info.propic_url,this.imageEdit=!this.imageEdit)},hideDisable:function(t){switch(t){case"designation":this.hideDesignation=!0;break;case"pay_roll":this.hidePayroll=!0;break;case"asset_package":this.hideAssetPackage=!0;break;case"job_description":this.hideJobDescription=!0;break;case"leave_package":this.hideLeavePackage=!0;break;case"employee_type":this.hideEmployeeType=!0}},GeneralInfoUpdate:function(){var t=this,e={first_name:this.user_info.first_name,last_name:this.user_info.last_name,emp_id:this.user_info.emp_id,email:this.user_info.email,phone:this.user_info.phone,role:this.selectedRole,permissions:this.roleData,hasFile:["logoData"],logoData:this.logoData,id:this.user_info.enc_user_id};this.btnDisabled=!0;var a=new FormData;formFiles(e,a),a.append("data",JSON.stringify(e)),axios.post("/api/profile/basic-info-update",a).then((function(e){t.notificationAlert(e),t.fetchUserInfo(),t.basicEdit=!1,t.imageEdit=!1})).catch((function(e){t.notificationAlert(e.response),t.user_not_found=!0}))},PackageUpdate:function(){var t=this;this.btnDisabled=!0;var e={designation:this.designation,payRoll:this.payRoll,leavePackage:this.leavePackage,assetPackage:this.assetPackage,jobDescription:this.jobDescription,employeeType:this.employeeType,id:this.user_info.enc_user_id,contract_date:this.dateRange};console.log(e);var a=new FormData;formFiles(e,a),a.append("data",JSON.stringify(e)),axios.post("/api/profile/package-update",a).then((function(e){t.fetchOrgInfo(),t.notificationAlert(e),t.btnDisabled=!1,t.packageEdit=!1})).catch((function(e){t.notificationAlert(e.response),t.btnDisabled=!1,t.user_not_found=!0}))}},mounted:function(){},created:function(){this.fetchUserInfo()},computed:{isAdmin:function(){var t=this.$store.state.AppActiveUser.roleId===this.$constants.CONST_ROLE_COMPANY_ADMIN&&this.$route.params.id===this.$store.state.AppActiveUser.uid;return t||this.fetchOrgInfo(),t}}},d=(a("4ulQ"),a("KHd+")),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"page-user-view"}},[a("vs-alert",{attrs:{color:"danger",title:"User Not Found",active:t.user_not_found},on:{"update:active":function(e){t.user_not_found=e}}},[a("span",[t._v("User record with id: "+t._s(t.$route.params.id)+" not found. ")]),t._v(" "),a("span",[a("span",[t._v("Check ")]),a("router-link",{staticClass:"text-inherit underline",attrs:{to:{name:"UserList"}}},[t._v("All Users")])],1)]),t._v(" "),t.user_info?a("div",{attrs:{id:"user-data"}},[a("vx-card",{staticClass:"mb-base",attrs:{title:"User Basic Information"}},[this.$store.state.AppActiveUser.isAdmin?a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"pl-2 float-right"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){return t.callPopup("userinfo")}}})],1)])]):t._e(),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col",attrs:{id:"avatar-col"}},[a("vs-avatar",{attrs:{size:"100px",src:t.user_info.propic_url}}),t._v(" "),this.$store.state.AppActiveUser.isAdmin?t._e():a("vs-button",{staticClass:"ml-4 mt-2",attrs:{size:"small",color:"gray"},on:{click:function(e){return t.callPopup("image_change")}}},[t._v("Change")])],1),t._v(" "),a("div",{staticClass:"vx-col flex-1",attrs:{id:"account-info-col-1"}},[a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Name ")]),t._v(" "),a("td",[t._v(t._s(t.user_info.full_name))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Employee ID ")]),t._v(" "),a("td",[t._v(t._s(t.user_info.emp_id))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Email ")]),t._v(" "),a("td",[t._v(t._s(t.user_info.email))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Phone ")]),t._v(" "),a("td",[t._v(t._s(t.user_info.phone))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Status ")]),t._v(" "),a("td",[t._v(t._s(t.user_info.status))])])])]),t._v(" "),a("div",{staticClass:"vx-col flex-1",attrs:{id:"account-info-col-2"}},[a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Username ")]),t._v(" "),a("td",[t._v(t._s(t.user_info.username))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Address ")]),t._v(" "),a("td",[t._v(t._s(t.user_info.address))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Company ")]),t._v(" "),a("td",[t._v(t._s(t.user_info.company_name))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("User Type ")]),t._v(" "),a("td",[t._v(t._s(t.user_info.user_type))])])])])])]),t._v(" "),t.isAdmin?t._e():a("vx-card",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"flex items-end "},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"GridIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Package Information")])],1),t._v(" "),this.$store.state.AppActiveUser.isAdmin?a("div",{staticClass:"float-right pb-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){return t.callPopup("package")}}})],1):t._e(),t._v(" "),a("vs-divider")],1),t._v(" "),a("div",{staticClass:"vx-col flex-1",attrs:{id:"org-info-col-1"}},[a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Employee Type ")]),t._v(" "),a("td",[t._v(t._s(t.org_info.employee_type)+"  "),t.con_show?a("span",[a("br"),t._v(t._s(t.contract_range))]):t._e()])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Leave Package ")]),t._v(" "),a("td",[t._v(t._s(t.org_info.leave_package))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Job Description ")]),t._v(" "),a("td",[t._v(t._s(t.org_info.job_description))])])])]),t._v(" "),a("div",{staticClass:"vx-col flex-1",attrs:{id:"org-info-col-2"}},[a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Payroll Package ")]),t._v(" "),a("td",[t._v(t._s(t.org_info.payroll_package))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Asset Package ")]),t._v(" "),a("td",[t._v(t._s(t.org_info.asset_package))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Designation ")]),t._v(" "),a("td",[t._v(t._s(t.org_info.designation))])])])])])]),t._v(" "),a("vs-popup",{attrs:{title:"Crop Image",active:t.loadImageCropper},on:{"update:active":function(e){t.loadImageCropper=e}}},[a("div",{staticClass:"bg-gray-100 w-full overflow-hidden flex justify-center",style:{height:t.cropperBoxData.height+"px"}},[a("cropper",{ref:"cropper",attrs:{src:t.cropBoxImage,"stencil-props":{aspectRatio:1}}})],1),t._v(" "),a("div",{staticClass:"p-3 mt-2 text-center bg-gray-800 text-white cursor-pointer",on:{click:t.crop}},[t._v("Crop")])]),t._v(" "),a("vs-popup",{attrs:{mediumscreen:"",title:"General Information",active:t.basicEdit},on:{"update:active":function(e){t.basicEdit=e}}},[a("div",{staticClass:"button-wrapper bg-gray-200 cursor-pointer",staticStyle:{width:"150px",height:"150px","background-image":"url('/site/upload.png')","background-repeat":"no-repeat","background-size":"20px 20px","background-position":"center center",border:"1px solid rgb(0,0,0,.1)"},on:{click:function(e){return t.fileInput()}}},[a("img",{staticClass:"w-full",attrs:{src:t.logoPreviewImage}})]),t._v(" "),a("div",{staticClass:"text-center p-1",staticStyle:{width:"150px","font-size":"10px"}},[t._v("Upload User Profile\n                picture\n            ")]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4 mr-1",attrs:{label:"*First Name",name:"first_name"},model:{value:t.user_info.first_name,callback:function(e){t.$set(t.user_info,"first_name",e)},expression:"user_info.first_name"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.user_info.first_name,name:"first_name"}}),t._v(" "),a("div",[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Employee ID",name:"emp_id"},model:{value:t.user_info.emp_id,callback:function(e){t.$set(t.user_info,"emp_id",e)},expression:"user_info.emp_id"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.user_info.emp_id,name:"emp_id"}})],1),t._v(" "),a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"* Email",type:"email",name:"email"},model:{value:t.user_info.email,callback:function(e){t.$set(t.user_info,"email",e)},expression:"user_info.email"}}),t._v(" "),a("validate-data",{attrs:{rules:"required|email",value:t.user_info.email,name:"email"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"*Last Name",name:"first_name"},model:{value:t.user_info.last_name,callback:function(e){t.$set(t.user_info,"last_name",e)},expression:"user_info.last_name"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.user_info.last_name,name:"last_name"}}),t._v(" "),a("vs-input",{staticClass:"w-full mt-5",attrs:{label:"Phone",name:"phone"},model:{value:t.user_info.phone,callback:function(e){t.$set(t.user_info,"phone",e)},expression:"user_info.phone"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.user_info.phone,name:"phone"}}),t._v(" "),a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Role",label:"Role",autocomplete:""},on:{input:function(e){return t.roleSelected()}},model:{value:t.selectedRole,callback:function(e){t.selectedRole=e},expression:"selectedRole"}},t._l(t.role,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1)],1),t._v(" "),t.shoWPermissions?a("vx-card",{staticClass:"mt-base",attrs:{"no-shadow":""}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"flex items-end px-3"},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"LockIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Permissions")])],1),t._v(" "),a("vs-divider")],1)]),t._v(" "),a("div",{staticClass:"block overflow-x-auto"},[a("table",{staticClass:"w-full"},t._l(t.roleData,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"px-3 py-2"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.subpermissions,(function(e,s){return a("td",{key:s,staticClass:"px-3 py-2"},[a("vs-checkbox",{model:{value:e.status,callback:function(a){t.$set(e,"status",a)},expression:"permission.status"}},[t._v(t._s(e.title)+"\n                                    ")])],1)}))],2)})),0)])]):t._e()],1),t._v(" "),a("div",{staticClass:"vx-row mt-3"}),t._v(" "),a("div",{staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:t.GeneralInfoUpdate}},[t._v("Update")])],1)]),t._v(" "),a("vs-popup",{attrs:{title:"Profile Picture",active:t.imageEdit},on:{"update:active":function(e){t.imageEdit=e}}},[a("vs-row",[a("vs-col",{attrs:{"vs-offset":"3","vs-type":"flex","vs-justify":"center","vs-align":"center","vs-w":"6"}},[a("div",{staticClass:"button-wrapper bg-gray-200 cursor-pointer float-center",staticStyle:{width:"150px",height:"150px","background-image":"url('/site/upload.png')","background-repeat":"no-repeat","background-size":"20px 20px","background-position":"center center",border:"1px solid rgb(0,0,0,.1)"},on:{click:function(e){return t.fileInput()}}},[a("img",{staticClass:"w-full",staticStyle:{height:"150px"},attrs:{src:t.logoPreviewImage}}),t._v(" "),a("span",{staticClass:"text-center p-1",staticStyle:{width:"150px","font-size":"10px"}},[t._v("Upload User Profile\n                        picture")])])])],1),t._v(" "),a("div",{staticClass:"vx-row mt-3"},[a("div",{staticClass:"vx-col-12"})]),t._v(" "),a("div",{staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:t.GeneralInfoUpdate}},[t._v("Update")])],1)],1),t._v(" "),a("vs-popup",{attrs:{mediumscreen:"",title:"Package",active:t.packageEdit},on:{"update:active":function(e){t.packageEdit=e}}},[a("div",{staticClass:"vx-row",staticStyle:{"min-height":"300px"}},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:"Payroll package",label:"Designation",name:"designation"},model:{value:t.designation,callback:function(e){t.designation=e},expression:"designation"}},t._l(t.designationData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1),t._v(" "),a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:"Job Description",label:"Job Description",name:"job_description"},model:{value:t.jobDescription,callback:function(e){t.jobDescription=e},expression:"jobDescription"}},t._l(t.jobDescriptionData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1),t._v(" "),a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:"Employee Type",label:"Employee Type",name:"employee_type"},on:{input:function(e){return t.checkEmployeeType(t.employeeType)}},model:{value:t.employeeType,callback:function(e){t.employeeType=e},expression:"employeeType"}},t._l(t.employeeTypeData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1),t._v(" "),t.showCalender?a("div",{staticClass:"mt-4 pt-1"},[a("v-date-picker",{attrs:{"is-range":"",color:"purple",masks:{input:"YYYY-MM-DD"},"min-date":new Date},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents;return[a("vs-input",t._g({staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon icon-calendar",label:"Date Range",value:s.start+" - "+s.end}},i.start))]}}],null,!1,59100392),model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1):t._e()]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:"Payroll Package",label:"Payroll Package",name:"pay_roll"},model:{value:t.payRoll,callback:function(e){t.payRoll=e},expression:"payRoll"}},t._l(t.payRollData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1),t._v(" "),a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:"Leave Package",label:"Leave Package",name:"leave_package"},model:{value:t.leavePackage,callback:function(e){t.leavePackage=e},expression:"leavePackage"}},t._l(t.leavePackageData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1),t._v(" "),a("div",{staticClass:"mt-4 pt-1"},[a("vs-select",{staticClass:"w-full",attrs:{autocomplete:"",placeholder:"Asset Package",label:"Asset Package",name:"asset_package"},model:{value:t.assetPackage,callback:function(e){t.assetPackage=e},expression:"assetPackage"}},t._l(t.assetPackageData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1)])]),t._v(" "),a("div",{staticClass:"vx-row mt-3"}),t._v(" "),a("div",{staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.PackageUpdate()}}},[t._v("Update")])],1)])],1):t._e()],1)}),[],!1,null,null,null).exports,v={data:function(){return{showPassOld:!1,showPassNew:!1,showPassConfirm:!1,old_password:"",new_password:"",confirm_new_password:""}},computed:{validateForm:function(){return""!==this.old_password&&""!==this.new_password&&this.new_password===this.confirm_new_password}},methods:{changePassword:function(){var t=this;this.$http.put("/api/profile/change-password",{old_password:this.old_password,new_password:this.new_password,confirm_new_password:this.confirm_new_password}).then((function(e){t.notificationAlert(e)})).catch((function(e){console.log(e),t.notificationAlert(e.response)}))}}},p=Object(d.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"vx-col w-full bg-white pt-3"},[a("div",{staticClass:"flex items-end px-3"},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"LockIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Change Password")])],1),t._v(" "),a("vs-divider")],1),t._v(" "),a("vx-card",{attrs:{"no-shadow":""}},[a("form",[a("vs-input",{staticClass:"w-full mb-base",attrs:{icon:t.showPassOld?"icon icon-eye":"icon icon-eye-off",type:t.showPassOld?"text":"password","icon-pack":"feather","icon-no-border":"","icon-after":"true","label-placeholder":"Old Password"},on:{"icon-click":function(e){t.showPassOld=!t.showPassOld}},model:{value:t.old_password,callback:function(e){t.old_password=e},expression:"old_password"}}),t._v(" "),a("vs-input",{staticClass:"w-full mb-base",attrs:{icon:t.showPassNew?"icon icon-eye":"icon icon-eye-off",type:t.showPassNew?"text":"password","icon-pack":"feather","icon-no-border":"","icon-after":"true","label-placeholder":"New Password"},on:{"icon-click":function(e){t.showPassNew=!t.showPassNew}},model:{value:t.new_password,callback:function(e){t.new_password=e},expression:"new_password"}}),t._v(" "),a("vs-input",{staticClass:"w-full mb-base",attrs:{icon:t.showPassConfirm?"icon icon-eye":"icon icon-eye-off",type:t.showPassConfirm?"text":"password","icon-pack":"feather","icon-no-border":"","icon-after":"true","label-placeholder":"Confirm Password"},on:{"icon-click":function(e){t.showPassConfirm=!t.showPassConfirm}},model:{value:t.confirm_new_password,callback:function(e){t.confirm_new_password=e},expression:"confirm_new_password"}}),t._v(" "),a("div",{staticClass:"flex flex-wrap items-center justify-end"},[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:!t.validateForm},on:{click:t.changePassword}},[t._v("Save Changes\n                ")]),t._v(" "),a("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"}},[t._v("Reset")])],1)],1)])],1)}),[],!1,null,null,null).exports,m={components:{vSelect:l.a},data:function(){return{country1Other:!1,address_same:!1,permanentAddressLine1:null,permanentAddressLine2:null,permanentCitySelect:null,permanentProvinceSelect:null,permanentCountrySelect:null,permanentAddressPostCode:null,permanentAddressCityOtherView:!1,permanentAddressCity:null,presentAddressLine1:null,presentAddressLine2:null,presentCitySelect:null,presentProvinceSelect:null,presentCountrySelect:null,presentAddressPostCode:null,presentAddressCityOtherView:!1,presentAddressCity:null,countryData:[],ProvinceData:[],CityData:[],countryData2:[],ProvinceData2:[],CityData2:[],custom_info:[],user_id:null,formatted_birthdate:null,user_info:{personal_email:null,emergency_number:null,work_number:null},dropdown:[],general_info:[],geninfoEdit:!1,addressEdit:!1,defItem:[],attachment:null,bloodGroup:[],blood:"",GenderData:[],gender:"",maritalData:[],marital_status:"",religionData:[],religion:"",nationalityData:[],nationality:""}},computed:{},methods:{attachmentInput:function(){var t=this,e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var a=e.target;a.files&&a.files[0]&&(t.verificationIdFile=a.files[0],t.verificationIdFileName=a.files[0].name)}},fetchGeneralInfo:function(){var t=this;axios.get("/api/profile/general-info/".concat(this.$route.params.id)).then((function(e){200===e.status?(t.general_info=e.data.general_info,t.user_id=e.data.user_id,t.formatted_birthdate=e.data.formatted_date):t.notificationAlert(e)})).catch((function(e){t.notificationAlert(e.response),t.user_not_found=!0}))},makeSame:function(t){t&&(this.presentAddressLine1=this.permanentAddressLine1,this.presentAddressLine2=this.permanentAddressLine2,this.presentCitySelect=this.permanentCitySelect,this.presentProvinceSelect=this.permanentProvinceSelect,this.presentCountrySelect=this.permanentCountrySelect,this.presentAddressPostCode=this.permanentAddressPostCode)},callPopup:function(t,e){var a=this;"gen_info"===t&&(this.user_info.emergency_number=this.general_info.personalmobile,this.user_info.personal_email=this.general_info.personalemail,this.user_info.work_number=this.general_info.officemobile,this.gender=this.general_info.gender_id,this.blood=this.general_info.blood_id,this.marital_status=this.general_info.marital_id,this.religion=this.general_info.religion_id,this.nationality=this.general_info.nationality_id,axios.get("/api/data/dropdown-items/".concat(this.$constants.CONST_BLOOD_GROUP)).then((function(t){a.bloodGroup=t.data.items})).catch((function(t){a.notificationAlert(t.response)})),axios.get("/api/data/dropdown-items/".concat(this.$constants.CONST_GENDER)).then((function(t){a.GenderData=t.data.items})).catch((function(t){a.notificationAlert(t.response)})),axios.get("/api/data/dropdown-items/".concat(this.$constants.CONST_MARITAL)).then((function(t){a.maritalData=t.data.items})).catch((function(t){a.notificationAlert(t.response)})),axios.get("/api/data/dropdown-items/".concat(this.$constants.CONST_RELIGION)).then((function(t){a.religionData=t.data.items})).catch((function(t){a.notificationAlert(t.response)})),axios.get("/api/data/dropdown-items/".concat(this.$constants.CONST_NATIONALITY)).then((function(t){a.nationalityData=t.data.items})).catch((function(t){a.notificationAlert(t.response)})),this.geninfoEdit=!this.geninfoEdit),"address"===t&&(this.getAddressData(e.permanent_address_country_id,"province"),this.getAddressData(e.permanent_address_province_id,"city"),this.getAddressData(e.present_address_country_id,"province2"),this.getAddressData(e.present_address_province_id,"city2"),this.permanentAddressLine1=e.permanentaddressline1,this.permanentAddressLine2=e.permanentaddressline2,this.permanentCitySelect=e.permanent_address_city_id,this.permanentProvinceSelect=e.permanent_address_province_id,this.permanentCountrySelect=e.permanent_address_country_id,this.permanentAddressPostCode=e.permanentaddresspostcode,this.presentAddressLine1=e.presentaddressline1,this.presentAddressLine2=e.presentaddressline2,this.presentCitySelect=e.present_address_city_id,this.presentProvinceSelect=e.present_address_province_id,this.presentCountrySelect=e.present_address_country_id,this.presentAddressPostCode=e.presentaddresspostcode,this.presentAddressCityOtherView=!1,axios.get("/api/profile/get-country-data").then((function(t){a.countryData=t.data.country,a.countryData2=t.data.country})).catch((function(t){a.notificationAlert(t.response)})),this.addressEdit=!this.addressEdit)},generalInfoUpdate:function(){var t=this;this.btnDisabled=!0;var e={personal_number:this.user_info.emergency_number,personal_email:this.user_info.personal_email,work_number:this.user_info.work_number,gender:this.gender,date_of_birth:this.general_info.dateofbirth,blood:this.blood,marital_status:this.marital_status,religion:this.religion,nationality:this.nationality,id:this.user_id},a=new FormData;formFiles(e,a),a.append("data",JSON.stringify(e)),axios.post("/api/profile/general-info-update",a).then((function(e){t.geninfoEdit=!t.geninfoEdit,t.fetchGeneralInfo(),t.notificationAlert(e)})).catch((function(e){t.notificationAlert(e.response)}))},addressUpdate:function(){var t=this;this.btnDisabled=!0;var e={id:this.user_id,per_a_line1:this.permanentAddressLine1,per_a_line2:this.permanentAddressLine2,per_city:this.permanentCitySelect,per_province:this.permanentProvinceSelect,per_country:this.permanentCountrySelect,per_post_code:this.permanentAddressPostCode,same_address:this.address_same,pre_a_line1:this.presentAddressLine1,pre_a_line2:this.presentAddressLine2,pre_city:this.presentCitySelect,pre_province:this.presentProvinceSelect,pre_country:this.presentCountrySelect,pre_post_code:this.presentAddressPostCode};axios.post("/api/profile/address-update",e).then((function(e){t.addressEdit=!t.addressEdit,t.notificationAlert(e),t.fetchGeneralInfo()})).catch((function(e){t.notificationAlert(e.response)}))},getAddressData:function(t,e){var a=this,s=t;switch(e){case"province":axios.get("/api/profile/get-province-data/".concat(s)).then((function(t){a.ProvinceData=t.data.province})).catch((function(t){a.notificationAlert(t.response)}));break;case"city":axios.get("/api/profile/get-city-data/".concat(s)).then((function(t){a.CityData=t.data.city})).catch((function(t){a.notificationAlert(t.response)}));break;case"province2":axios.get("/api/profile/get-province-data/".concat(s)).then((function(t){a.ProvinceData2=t.data.province})).catch((function(t){a.notificationAlert(t.response)}));break;case"city2":axios.get("/api/profile/get-city-data/".concat(s)).then((function(t){a.CityData2=t.data.city})).catch((function(t){a.notificationAlert(t.response)}))}}},mounted:function(){this.fetchGeneralInfo()},created:function(){}},f=(a("LlY9"),Object(d.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"gen-info-view"}},[t.general_info?a("div",{attrs:{id:"gen-data"}},[a("vx-card",{staticClass:"mb-base",attrs:{title:"General Information"}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"float-right pb-2"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){return t.callPopup("gen_info")}}})],1)]),t._v(" "),a("div",{staticClass:"vx-col flex-1",attrs:{id:"account-info-col-1"}},[a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Personal Email ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.personalemail))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Gender ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.gender))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Date of Birth ")]),t._v(" "),a("td",[t._v(t._s(t.formatted_birthdate))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Religion ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.religion))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Marital Status ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.marital_status))])])])]),t._v(" "),a("div",{staticClass:"vx-col flex-1",attrs:{id:"account-info-col-2"}},[a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Emergency Contact ")]),t._v(" "),a("td",[t._v(" "+t._s(t.general_info.personalmobile))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Work Mobile ")]),t._v(" "),a("td",[t._v(" "+t._s(t.general_info.officemobile))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Nationality ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.nationality))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Blood Group ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.blood_group))])])])])])]),t._v(" "),a("vx-card",[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"flex items-end px-3"},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"HomeIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Permanent Address")])],1),t._v(" "),a("div",{staticClass:"float-right pb-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){return t.callPopup("address",t.general_info)}}})],1),t._v(" "),a("vs-divider")],1),t._v(" "),a("div",{staticClass:"vx-col flex-1",attrs:{id:"addr-info-col-1"}},[a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Address ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.permanent_address))])])]),t._v(" "),a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("City ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.permanent_address_city))]),t._v(" "),a("td",{staticClass:"font-semibold"},[t._v("Province ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.permanent_address_province))]),t._v(" "),a("td",{staticClass:"font-semibold"},[t._v("Country ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.permanent_address_country))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Post Code ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.permanentaddresspostcode))])])])]),t._v(" "),a("div",{staticClass:"vx-col w-full md:mt-10"},[a("div",{staticClass:"flex items-end px-3"},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"HomeIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Present Address")])],1),t._v(" "),a("vs-divider")],1),t._v(" "),a("div",{staticClass:"vx-col flex-1",attrs:{id:"addr-info-col-2"}},[a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Address ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.present_address))])])]),t._v(" "),a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("City ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.present_address_city))]),t._v(" "),a("td",{staticClass:"font-semibold"},[t._v("Province ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.present_address_province))]),t._v(" "),a("td",{staticClass:"font-semibold"},[t._v("Country ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.present_address_country))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Post Code ")]),t._v(" "),a("td",[t._v(t._s(t.general_info.presentaddresspostcode))])])])])])]),t._v(" "),a("vs-popup",{attrs:{mediumscreen:"",title:"General Information",active:t.geninfoEdit},on:{"update:active":function(e){t.geninfoEdit=e}}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Personal email"},model:{value:t.user_info.personal_email,callback:function(e){t.$set(t.user_info,"personal_email",e)},expression:"user_info.personal_email"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Emergency Contact"},model:{value:t.user_info.emergency_number,callback:function(e){t.$set(t.user_info,"emergency_number",e)},expression:"user_info.emergency_number"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Work Phone"},model:{value:t.user_info.work_number,callback:function(e){t.$set(t.user_info,"work_number",e)},expression:"user_info.work_number"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("v-date-picker",{attrs:{color:"purple",masks:{input:"YYYY-MM-DD"}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents;return[a("vs-input",t._g({staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon icon-calendar",label:"* Date of birth",value:s}},i))]}}],null,!1,2857588128),model:{value:t.general_info.dateofbirth,callback:function(e){t.$set(t.general_info,"dateofbirth",e)},expression:"general_info.dateofbirth"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"blood group",label:"Blood Group"},model:{value:t.blood,callback:function(e){t.blood=e},expression:"blood"}},t._l(t.bloodGroup,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.blood,name:"blood",altName:"blood group"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"gender",label:"Gender"},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},t._l(t.GenderData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.gender,name:"gender",altName:"gender"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"marital status",label:"Marital Status"},model:{value:t.marital_status,callback:function(e){t.marital_status=e},expression:"marital_status"}},t._l(t.maritalData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.marital_status,name:"gender",altName:"marital status"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"religion",label:"Religion"},model:{value:t.religion,callback:function(e){t.religion=e},expression:"religion"}},t._l(t.religionData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.marital_status,name:"religion",altName:"religion"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"nationality",label:"Nationality"},model:{value:t.nationality,callback:function(e){t.nationality=e},expression:"nationality"}},t._l(t.nationalityData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1)]),t._v(" "),a("div",{staticClass:"vx-row mt-3"}),t._v(" "),a("div",{staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.generalInfoUpdate()}}},[t._v("Update")])],1)]),t._v(" "),a("vs-popup",{attrs:{mediumscreen:"",title:"Address",active:t.addressEdit},on:{"update:active":function(e){t.addressEdit=e}}},[a("div",{staticClass:"font-bold pb-2",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[t._v(" Permanent Address")]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col  w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Address Line 1"},model:{value:t.permanentAddressLine1,callback:function(e){t.permanentAddressLine1=e},expression:"permanentAddressLine1"}})],1),t._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Address Line 2"},model:{value:t.permanentAddressLine2,callback:function(e){t.permanentAddressLine2=e},expression:"permanentAddressLine2"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full",staticStyle:{"padding-top":"15px"}},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Country",label:"Country"},on:{input:function(e){return t.getAddressData(t.permanentCountrySelect,"province")}},model:{value:t.permanentCountrySelect,callback:function(e){t.permanentCountrySelect=e},expression:"permanentCountrySelect"}},t._l(t.countryData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full",staticStyle:{"padding-top":"15px"}},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Province/Division",label:"Province/Division"},on:{input:function(e){return t.getAddressData(t.permanentProvinceSelect,"city")}},model:{value:t.permanentProvinceSelect,callback:function(e){t.permanentProvinceSelect=e},expression:"permanentProvinceSelect"}},t._l(t.ProvinceData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),t.country1Other?a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Address line 2"},model:{value:t.permanentProvinceSelect,callback:function(e){t.permanentProvinceSelect=e},expression:"permanentProvinceSelect"}}):t._e()],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full",staticStyle:{"padding-top":"15px"}},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"City",label:"City"},model:{value:t.permanentCitySelect,callback:function(e){t.permanentCitySelect=e},expression:"permanentCitySelect"}},t._l(t.CityData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1),t._v(" "),t.permanentAddressCityOtherView?a("div",[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"City/Area"},model:{value:t.presentAddressCity,callback:function(e){t.presentAddressCity=e},expression:"presentAddressCity"}})],1):t._e(),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Post Code"},model:{value:t.permanentAddressPostCode,callback:function(e){t.permanentAddressPostCode=e},expression:"permanentAddressPostCode"}})],1),t._v(" "),a("div",{staticClass:"vx-col w-full",staticStyle:{"padding-top":"15px"}},[a("vs-checkbox",{on:{change:function(e){return t.makeSame(t.address_same)}},model:{value:t.address_same,callback:function(e){t.address_same=e},expression:"address_same"}},[t._v("Same as Permanent Address")])],1)]),t._v(" "),a("div",{staticClass:"font-bold pb-2 pt-8",staticStyle:{"border-bottom":"1px solid #f2f2f2"}},[t._v(" Present Address")]),t._v(" "),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col  w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Address Line 1"},model:{value:t.presentAddressLine1,callback:function(e){t.presentAddressLine1=e},expression:"presentAddressLine1"}})],1),t._v(" "),a("div",{staticClass:"vx-col w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Address Line 2"},model:{value:t.presentAddressLine2,callback:function(e){t.presentAddressLine2=e},expression:"presentAddressLine2"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full",staticStyle:{"padding-top":"15px"}},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Country",label:"Country"},on:{input:function(e){return t.getAddressData(t.permanentCountrySelect,"province2")}},model:{value:t.presentCountrySelect,callback:function(e){t.presentCountrySelect=e},expression:"presentCountrySelect"}},t._l(t.countryData2,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full",staticStyle:{"padding-top":"15px"}},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Province/Division",label:"Province/Division"},on:{input:function(e){return t.getAddressData(t.presentProvinceSelect,"city2")}},model:{value:t.presentProvinceSelect,callback:function(e){t.presentProvinceSelect=e},expression:"presentProvinceSelect"}},t._l(t.ProvinceData2,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full",staticStyle:{"padding-top":"15px"}},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"City",label:"City"},model:{value:t.presentCitySelect,callback:function(e){t.presentCitySelect=e},expression:"presentCitySelect"}},t._l(t.CityData2,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1)],1),t._v(" "),t.presentAddressCityOtherView?a("div",[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"City/Area"},model:{value:t.presentAddressCity,callback:function(e){t.presentAddressCity=e},expression:"presentAddressCity"}})],1):t._e(),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Post Code"},model:{value:t.presentAddressPostCode,callback:function(e){t.presentAddressPostCode=e},expression:"presentAddressPostCode"}})],1)]),t._v(" "),a("div",{staticClass:"vx-row mt-3"}),t._v(" "),a("div",{staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.addressUpdate()}}},[t._v("Update")])],1)])],1):t._e()])}),[],!1,null,null,null).exports),h={data:function(){return{popup_title:"New Education History",eduAdd:!1,isDisabled:!1,viewInstituteList:!1,viewForCGPA:!0,mode:{save:!0,edit:!1},degreeData:[],edu_infos:[],instituteData:[],resultOption:["Division","CGPA"],divisionData:[],selectedDegree:"",selectedInstitute:"",selectedResultType:"",instituteName:null,passingYear:null,edu_id:null,result:{cgpa:null,outof:null,division:null},doc:{doc:!0,hasFile:["Attachment"],attachmentName:null,Attachment:null}}},methods:{fetchEduInfo:function(){var t=this;axios.get("/api/profile/edu-info/".concat(this.$route.params.id)).then((function(e){200===e.status?(t.edu_infos=[],t.edu_infos=e.data.education_info):t.notificationAlert(e)})).catch((function(e){t.notificationAlert(e.response),t.user_not_found=!0}))},callPopup:function(t,e){var a=this;console.log("Hasib",e),axios.get("/api/profile/education-data").then((function(t){console.log(t),a.instituteData=t.data.instituteData,a.divisionData=t.data.divisionData,a.degreeData=t.data.degreeData})).catch((function(t){a.notificationAlert(t.response)})),"edu_edit"===t&&(this.edu_id=e.edu_id,this.mode.save=!1,this.mode.edit=!0,this.popup_title="Edit Education History",this.selectedDegree=e.degree_id,this.selectedResultType=e.result_type,this.passingYear=e.passing_year,"division"===e.result_type.toLowerCase()?(this.viewForCGPA=!1,this.result.division=e.result.division_id,this.result.cgpa=null,this.result.outof=null):"cgpa"===e.result_type.toLowerCase()&&(this.viewForCGPA=!0,this.result.cgpa=e.result.cgpa,this.result.outof=e.result.out_of,this.result.division=null),e.degree_id===this.$constants.CONST_GRADUATION||e.degree_id===this.$constants.CONST_POST_GRAD?(this.viewInstituteList=!0,this.selectedInstitute=e.institute_info):(this.viewInstituteList=!1,this.instituteName=e.institute_name),this.doc.Attachment=null,this.doc.attachmentName=e.attachment_name,this.eduAdd=!this.eduAdd),"edu_add"===t&&(this.mode.save=!0,this.mode.edit=!1,this.popup_title="Add Education History",this.selectedDegree="",this.selectedResultType="",this.passingYear="",this.result.cgpa="",this.result.outof="",this.result.division="",this.doc.Attachment=null,this.instituteName="",this.selectedInstitute="",this.doc.Attachment=null,this.doc.attachmentName=null,this.eduAdd=!this.eduAdd)},manageEducation:function(t,e){console.log(e),"resultType"===t&&null!=e&&("division"===e.toLowerCase()?(this.result.cgpa=null,this.result.outof=null,this.viewForCGPA=!1):"cgpa"===e.toLowerCase()&&(this.result.division=null,this.viewForCGPA=!0)),"degreeType"===t&&null!=e&&(e===this.$constants.CONST_GRADUATION||e===this.$constants.CONST_POST_GRAD?(this.viewInstituteList=!0,this.instituteName=""):(this.selectedInstitute="",this.viewInstituteList=!1))},attachmentInput:function(){var t=this,e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var a=e.target;a.files&&a.files[0]&&(t.doc.Attachment=a.files[0],t.doc.attachmentName=a.files[0].name)}},EducationAdd:function(){var t=this;this.btnDisabled=!0;var e=null;e=""!==this.instituteName?this.instituteName:this.selectedInstitute;var a={id:this.$route.params.id,degree_name:this.selectedDegree,degree_type:this.selectedResultType,passing_year:this.passingYear,edu_id:this.edu_id,institute_name:e,result:this.result,attachment:this.doc.Attachment},s=new FormData;formFiles(this.doc,s),s.append("data",JSON.stringify(a)),console.log(a),this.validateInput(a)&&axios.post("/api/profile/education-history-add",s).then((function(e){t.notificationAlert(e),t.eduAdd=!t.eduAdd,t.fetchEduInfo()})).catch((function(e){t.notificationAlert(e.response)}))},deleteDataProceed:function(t){var e=this;axios.get("/api/profile/edu-delete/".concat(t)).then((function(t){e.notificationAlert(t),e.fetchEduInfo()})).catch((function(t){e.notificationAlert(t.response)}))},EducationEdit:function(){var t=this;this.btnDisabled=!0;var e=null;e=""!==this.instituteName?this.instituteName:this.selectedInstitute;var a={id:this.$route.params.id,degree_name:this.selectedDegree,degree_type:this.selectedResultType,passing_year:this.passingYear,edu_id:this.edu_id,institute_name:e,result:this.result,attachment:this.doc.Attachment};console.log("Hasib",a);var s=new FormData;formFiles(this.doc,s),s.append("data",JSON.stringify(a)),axios.post("/api/profile/education-history-edit",s).then((function(e){t.notificationAlert(e),t.eduAdd=!t.eduAdd,t.fetchEduInfo()})).catch((function(e){t.notificationAlert(e.response)}))}},mounted:function(){},created:function(){this.fetchEduInfo()},computed:{yearList:function(){for(var t=(new Date).getFullYear()-100,e=[],a=0;104>a;a++)e.unshift(t+a);return e}}},b=(a("6Q50"),Object(d.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"edu-info-view"}},[a("vs-popup",{attrs:{mediumscreen:"",title:t.popup_title,active:t.eduAdd},on:{"update:active":function(e){t.eduAdd=e}}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Degree Name",label:"Degree Name",autocomplete:""},on:{input:function(e){return t.manageEducation("degreeType",t.selectedDegree)}},model:{value:t.selectedDegree,callback:function(e){t.selectedDegree=e},expression:"selectedDegree"}},t._l(t.degreeData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.selectedDegree,name:"degreeName",altName:"degree name"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.viewInstituteList,expression:"viewInstituteList"}],staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Institute Name",label:"Institute Name",autocomplete:""},on:{input:function(e){return t.manageEducation("otherInstitute",t.selectedInstitute)}},model:{value:t.selectedInstitute,callback:function(e){t.selectedInstitute=e},expression:"selectedInstitute"}},t._l(t.instituteData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.selectedInstitute,name:"instituteName",altName:"institute name"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.viewInstituteList,expression:"!viewInstituteList"}],staticClass:"mt-4"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Institute Name"},model:{value:t.instituteName,callback:function(e){t.instituteName=e},expression:"instituteName"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.instituteName,name:"instituteName",altName:"institute name"}})],1),t._v(" "),a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Passing Year",label:"Passing Year",autocomplete:""},model:{value:t.passingYear,callback:function(e){t.passingYear=e},expression:"passingYear"}},t._l(t.yearList,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t,text:t}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.passingYear,name:"passingYear",altName:"passing year"}})],1)]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Result Type",label:"Result Type",autocomplete:""},on:{input:function(e){return t.manageEducation("resultType",t.selectedResultType)}},model:{value:t.selectedResultType,callback:function(e){t.selectedResultType=e},expression:"selectedResultType"}},t._l(t.resultOption,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t,text:t}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.selectedResultType,name:"resultType",altName:"result type"}})],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.viewForCGPA,expression:"viewForCGPA"}],staticClass:"mt-3"},[a("vs-input",{staticClass:"w-full",attrs:{label:"Out Of",min:"1",max:"5"},model:{value:t.result.outof,callback:function(e){t.$set(t.result,"outof",e)},expression:"result.outof"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.result.outof,name:"outof",altName:"out of"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.viewForCGPA,expression:"viewForCGPA"}],staticClass:"mt-3"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"CGPA",min:"1",max:"5"},model:{value:t.result.cgpa,callback:function(e){t.$set(t.result,"cgpa",e)},expression:"result.cgpa"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.result.cgpa,name:"cgpa",altName:"CGPA"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.viewForCGPA,expression:"!viewForCGPA"}],staticClass:"mt-4"},[a("div",{staticClass:"mt-4"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Division",label:"Division",autocomplete:""},model:{value:t.result.division,callback:function(e){t.$set(t.result,"division",e)},expression:"result.division"}},t._l(t.divisionData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.result.division,name:"division",altName:"division"}})],1)])]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("div",{staticClass:"pt-3 pr-3 font-bold"},[t._v("Certificate Attachment:")]),t._v(" "),a("div",{staticClass:"flex"},[a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"gray","icon-pack":"feather",icon:"icon-upload"},on:{click:function(e){return t.attachmentInput()}}},[t._v("Upload\n                        ")])],1),t._v(" "),a("div",{staticClass:"pl-3 pt-3"},[t._v(t._s(t.doc.attachmentName))])])])]),t._v(" "),a("div",{staticClass:"vx-row mt-3"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mode.save,expression:"mode.save"}],staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.EducationAdd()}}},[t._v("Save")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mode.edit,expression:"mode.edit"}],staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.EducationEdit()}}},[t._v("Update")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-full bg-white pt-3"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-1/2"},[a("div",{staticClass:"flex items-end px-3"},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"BookIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Education History")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-1/2"},[a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-plus"},on:{click:function(e){return t.callPopup("edu_add")}}})],1)])]),t._v(" "),a("vs-divider")],1),t._v(" "),t._l(t.edu_infos,(function(e,s){return a("div",{key:s},[a("vx-card",{staticClass:"mb-base"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col  lg:w-10/12 w-8/12"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col lg:w-6/12 md:w-8/12 w-full"},[a("table",{staticStyle:{width:"100%"}},[a("tr",[a("td",{staticClass:"font-semibold",staticStyle:{width:"35%"}},[t._v("Degree Name")]),t._v(" "),a("td",{staticStyle:{width:"65%"}},[t._v(t._s(e.degree_name))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold",staticStyle:{width:"35%"}},[t._v("Institute")]),t._v(" "),a("td",{staticStyle:{width:"65%"}},[t._v(t._s(e.institute_name))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold",staticStyle:{width:"35%"}},[t._v("Passing Year")]),t._v(" "),a("td",{staticStyle:{width:"65%"}},[t._v(t._s(e.passing_year))])])])]),t._v(" "),a("div",{staticClass:"vx-col lg:w-6/12 md:w-8/12"},[a("table",{staticStyle:{width:"100%"}},[a("tr",[a("td",{staticClass:"font-semibold",staticStyle:{width:"35%"}},[t._v("Result Type")]),t._v(" "),a("td",{staticStyle:{width:"65%"}},[t._v(t._s(e.result_type))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold",staticStyle:{width:"35%"}},[t._v("Result")]),t._v(" "),e.result.cgpa?a("td",{staticStyle:{width:"65%"}},[t._v(" "+t._s(e.result.cgpa)+" out of "+t._s(e.result.out_of))]):a("td",{staticStyle:{width:"65%"}},[t._v(" "+t._s(e.result.division))])]),t._v(" "),e.attachment_name?a("tr",[a("td",{staticClass:"font-semibold",staticStyle:{width:"35%"}},[t._v("Attachment")]),t._v(" "),a("td",{staticStyle:{width:"65%"}},[a("a",{staticClass:"flex py-2  cursor-pointer ",attrs:{href:e.attachment_link,download:e.attachment_name}},[a("feather-icon",{attrs:{icon:"PaperclipIcon",svgClasses:"w-4 h-4"}}),t._v(" "),a("span",{staticClass:"ml-2"},[t._v(t._s(e.attachment_name))])],1)])]):t._e()])])])]),t._v(" "),a("div",{staticClass:"vx-col  lg:w-2/12 w-4/12"},[a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(a){return t.callPopup("edu_edit",e)}}})],1),t._v(" "),a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(a){return t.actionConfirm(e.edu_id,t.deleteDataProceed,"delete "+e.degree_name)}}})],1)])])])],1)}))],2)}),[],!1,null,null,null).exports),g={data:function(){return{pop_title:"New Job History",job_id:null,mode:{save:!0,edit:!1},jobAdd:!1,job_histories:[],designationOption:[],designationData:[],selectdDesignation:"",jobDuration:{start:new Date,end:new Date},job:{orgName:null,designation:null,responsibility:null}}},methods:{fetchJobHistory:function(){var t=this;axios.get("/api/profile/job-history/".concat(this.$route.params.id)).then((function(e){console.log(e),200===e.status?(t.job_histories=[],t.job_histories=e.data.job_histories):t.notificationAlert(e)})).catch((function(e){t.notificationAlert(e.response),t.user_not_found=!0}))},callPopup:function(t,e){var a=this;axios.get("/api/data/dropdown-items/".concat(this.$constants.CONST_DESIGNATION)).then((function(t){a.designationData=t.data.items})).catch((function(t){a.notificationAlert(t.response)})),"job_add"===t&&(this.pop_title="New Job History",this.mode.save=!0,this.mode.edit=!1,this.job.orgName=null,this.job.designation=null,this.job.responsibility=null,this.jobDuration={start:new Date,end:new Date},this.selectdDesignation="",this.jobAdd=!this.jobAdd),"job_edit"===t&&(console.log(e),this.pop_title="Edit Job History",this.mode.save=!1,this.mode.edit=!0,this.jobAdd=!this.jobAdd,this.job_id=e.job_id,this.job.orgName=e.orgname,this.selectdDesignation=e.designation_id,this.job.designation=e.designation,this.job.responsibility=e.responsibility,this.jobDuration={start:new Date(e.jobstartdate),end:new Date(e.jobclosedate)})},educationAdd:function(){var t=this;this.btnDisabled=!0;var e={org_name:this.job.orgName,designation:this.selectdDesignation,responsibility:this.job.responsibility,duration:this.jobDuration,user_id:this.$route.params.id};axios.post("/api/profile/job-history-create",e).then((function(e){t.notificationAlert(e),t.fetchJobHistory(),t.jobAdd=!t.jobAdd,t.btnDisabled=!1})).catch((function(e){t.notificationAlert(e.response),t.btnDisabled=!1}))},educationEdit:function(){var t=this;this.btnDisabled=!0;var e={job_id:this.job_id,org_name:this.job.orgName,designation:this.selectdDesignation,responsibility:this.job.responsibility,duration:this.jobDuration};axios.post("/api/profile/job-history-update",e).then((function(e){t.notificationAlert(e),t.fetchJobHistory(),t.jobAdd=!t.jobAdd,t.btnDisabled=!1})).catch((function(e){t.notificationAlert(e.response),t.btnDisabled=!1}))},deleteDataProceed:function(t){var e=this;axios.get("/api/profile/job-history-delete/".concat(t.job_id)).then((function(t){e.notificationAlert(t),e.fetchJobHistory()})).catch((function(t){e.notificationAlert(t.response)}))}},mounted:function(){},created:function(){this.fetchJobHistory()},computed:{dateRangeText:function(){return this.job.jobDuration.join(" ~ ")}}},w=(a("fQlA"),Object(d.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"job-info-view"}},[a("vs-popup",{attrs:{mediumscreen:"",title:t.pop_title,active:t.jobAdd},on:{"update:active":function(e){t.jobAdd=e}}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Organization Name"},model:{value:t.job.orgName,callback:function(e){t.$set(t.job,"orgName",e)},expression:"job.orgName"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.orgName,name:"orgName",altName:"organization name"}})],1),t._v(" "),a("div",{staticClass:"mt-2"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Designation",label:"Designation"},model:{value:t.selectdDesignation,callback:function(e){t.selectdDesignation=e},expression:"selectdDesignation"}},t._l(t.designationData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.selectdDesignation,name:"designation",altName:"designation"}})],1)]),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("div",{staticClass:"mt-4"},[a("v-date-picker",{attrs:{"is-range":"",color:"purple",masks:{input:"YYYY-MM-DD"},"max-date":new Date},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents;return[a("vs-input",t._g({staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon icon-calendar",label:"Job Duration",value:s.start+" - "+s.end}},i.start))]}}]),model:{value:t.jobDuration,callback:function(e){t.jobDuration=e},expression:"jobDuration"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.jobDuration,name:"jobDuration",altName:"job duration"}})],1)]),t._v(" "),a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"pt-6"},[a("vs-textarea",{attrs:{label:"Duties"},model:{value:t.job.responsibility,callback:function(e){t.$set(t.job,"responsibility",e)},expression:"job.responsibility"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.job.responsibility,name:"responsibility",altName:"responsibility"}})],1)])]),t._v(" "),a("div",{staticClass:"vx-row mt-3"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mode.save,expression:"mode.save"}],staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.educationAdd()}}},[t._v("Save")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mode.edit,expression:"mode.edit"}],staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.educationEdit()}}},[t._v("Update")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-full bg-white pt-3"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-1/2"},[a("div",{staticClass:"flex items-end px-3"},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"BriefcaseIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Job History")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-1/2"},[a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-plus"},on:{click:function(e){return t.callPopup("job_add")}}})],1)])]),t._v(" "),a("vs-divider")],1),t._v(" "),t._l(t.job_histories,(function(e,s){return a("div",{key:s},[a("vx-card",{staticClass:"mb-base"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col lg:w-10/12 w-7/12"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col lg:w-6/12 md:w-8/12 w-full "},[a("table",{staticStyle:{width:"100%"}},[a("tr",[a("td",{staticClass:"font-semibold",staticStyle:{width:"35%"}},[t._v("Organization")]),t._v(" "),a("td",{staticStyle:{width:"65%"}},[t._v(t._s(e.orgname))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold",staticStyle:{width:"35%"}},[t._v("Designation")]),t._v(" "),a("td",{staticStyle:{width:"65%"}},[t._v(t._s(e.designation))])])])]),t._v(" "),a("div",{staticClass:"vx-col lg:w-6/12 md:w-8/12 w-full"},[a("table",{staticStyle:{width:"100%"}},[a("tr",[a("td",{staticClass:"font-semibold",staticStyle:{width:"35%"}},[t._v("Job Duration")]),t._v(" "),a("td",{staticStyle:{width:"65%"}},[t._v(t._s(e.job_duration)+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold",staticStyle:{width:"35%"}},[t._v("Duties")]),t._v(" "),a("td",{staticStyle:{width:"65%"}},[t._v(t._s(e.responsibility))])])])])])]),t._v(" "),a("div",{staticClass:"vx-col lg:w-2/12 w-5/12"},[a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(a){return t.callPopup("job_edit",e)}}})],1),t._v(" "),a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(a){return t.actionConfirm(e,t.deleteDataProceed,"delete")}}})],1)])])])],1)}))],2)}),[],!1,null,null,null).exports),C={data:function(){return{nominees:[],shareData:{not_used:100,used:null},popUp:!1,mode:{add:!0,edit:!1},pop_title:"New Nominee/Family",total_used_percent:null,relationshipTypeData:[],addNew:!1,nominee_id:null,userId:null,selectedType:"",nominee:{familymembername:null,relationshiptype:null,birth_date:null,phone_number:null,hasFile:["Attachment"],Attachment:null,attachmentName:null,share:null,is_nominee:!1},show_share:!1}},computed:{showShare:function(){if(!0===this.nominee.is_nominee)var t=!0;else this.nominee.share=null,t=!1;return t}},methods:{fetchNomineeInfo:function(){var t=this;axios.get("/api/profile/nominee-info/".concat(this.$route.params.id)).then((function(e){200===e.status?(t.nominees=[],t.shareData.not_used=e.data.share_data.available_percent,t.shareData.used=e.data.share_data.total_percent,t.nominees=e.data.nominees):t.notificationAlert(e)})).catch((function(e){t.notificationAlert(e.response),t.user_not_found=!0}))},attachmentInput:function(){var t=this,e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var a=e.target;a.files&&a.files[0]&&(t.nominee.Attachment=a.files[0],t.nominee.attachmentName=a.files[0].name)}},callPopup:function(t,e){var a=this;this.nominee.Attachment=null,axios.get("/api/data/dropdown-items/".concat(this.$constants.CONST_RELATIONSHIP_TYPE)).then((function(t){a.relationshipTypeData=t.data.items})).catch((function(t){a.notificationAlert(t.response)})),"add"===t&&(this.pop_title="New Nominee/Family",this.mode.save=!0,this.mode.edit=!1,this.nominee_id=null,this.nominee.familymembername=null,this.selectedType="",this.nominee.birth_date=null,this.nominee.share=null,this.nominee.phone_number=null,this.nominee.attachmentName=null,this.popUp=!this.popUp,this.nominee.is_nominee=!1,this.show_share=!1),"edit"===t&&(this.pop_title="Edit Nominee/Family Information",this.mode.save=!1,this.mode.edit=!0,this.popUp=!this.popUp,this.nominee_id=e.nominee_id,this.nominee.familymembername=e.nominee_name,this.selectedType=e.type_id,this.nominee.birth_date=e.nominee_birth_date,this.nominee.share=e.nominee_share,this.nominee.phone_number=e.phone_number,this.nominee.attachmentName=e.attachment_name,1===e.is_nominee?this.nominee.is_nominee=!0:this.nominee.is_nominee=!1)},create:function(){var t=this;this.btnDisabled=!0;var e={userid:this.$route.params.id,data:this.nominee,relation_type:this.selectedType,attachment:this.nominee.Attachment},a=new FormData;formFiles(this.nominee,a),a.append("data",JSON.stringify(e)),axios.post("/api/profile/nominee-create",a).then((function(e){t.notificationAlert(e),t.popUp=!t.popUp,t.btnDisabled=!1,t.fetchNomineeInfo()})).catch((function(e){t.notificationAlert(e.response),t.btnDisabled=!1}))},update:function(){var t=this;this.btnDisabled=!0;var e={nominee_id:this.nominee_id,user_id:this.$route.params.id,relation_type:this.selectedType,data:this.nominee,attachment:this.nominee.Attachment},a=new FormData;formFiles(this.nominee,a),a.append("data",JSON.stringify(e)),axios.post("/api/profile/nominee-update",a).then((function(e){t.notificationAlert(e),t.popUp=!t.popUp,t.btnDisabled=!1,t.fetchNomineeInfo()})).catch((function(e){t.notificationAlert(e.response),t.btnDisabled=!1}))},deleteDataProceed:function(t){var e=this;axios.get("/api/profile/nominee-delete/".concat(t)).then((function(t){e.notificationAlert(t),e.fetchNomineeInfo()})).catch((function(t){e.notificationAlert(t.response)}))}},mounted:function(){},created:function(){this.fetchNomineeInfo()}},x=(a("1VRh"),Object(d.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"nominee-info-view"}},[a("vs-popup",{attrs:{mediumscreen:"",title:t.pop_title,active:t.popUp},on:{"update:active":function(e){t.popUp=e}}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Nominee Name"},model:{value:t.nominee.familymembername,callback:function(e){t.$set(t.nominee,"familymembername",e)},expression:"nominee.familymembername"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.nominee.familymembername,name:"familymembername",altName:"family member name"}})],1),t._v(" "),a("div",{staticClass:"mt-4 vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Relationship type",label:"Relationship Type",autocomplete:""},model:{value:t.selectedType,callback:function(e){t.selectedType=e},expression:"selectedType"}},t._l(t.relationshipTypeData,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.selectedType,name:"relationshiptype",altName:"relationship type"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Nominee Contact Number"},model:{value:t.nominee.phone_number,callback:function(e){t.$set(t.nominee,"phone_number",e)},expression:"nominee.phone_number"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.nominee.phone_number,name:"nominee_phone",altName:"nominee phone number"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("v-date-picker",{attrs:{color:"purple",masks:{input:"YYYY-MM-DD"},"max-date":new Date},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents;return[a("vs-input",t._g({staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon icon-calendar",label:"Nominee Date of Birth",value:s}},i))]}}]),model:{value:t.nominee.birth_date,callback:function(e){t.$set(t.nominee,"birth_date",e)},expression:"nominee.birth_date"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full py-3"},[a("div",{staticClass:"pt-3 pr-3 font-bold"},[t._v("Identification Document:")]),t._v(" "),a("div",{staticClass:"flex"},[a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"gray","icon-pack":"feather",icon:"icon-upload"},on:{click:function(e){return t.attachmentInput()}}},[t._v("Upload\n                        ")])],1),t._v(" "),a("div",{staticClass:"pl-3 pt-3"},[t._v(t._s(t.nominee.attachmentName))])])]),t._v(" "),t.showShare?a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-input",{staticClass:"w-full mt-4",attrs:{type:"number",label:"Share (%) (Available: "+t.shareData.not_used+"%)",min:"0",max:t.shareData.not_used},model:{value:t.nominee.share,callback:function(e){t.$set(t.nominee,"share",e)},expression:"nominee.share"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.nominee.share,name:"share",altName:"Share"}})],1):t._e(),t._v(" "),a("div",{staticClass:"vx-col  w-full"},[a("div",{staticClass:"mt-4 pt-1"},[a("vs-checkbox",{model:{value:t.nominee.is_nominee,callback:function(e){t.$set(t.nominee,"is_nominee",e)},expression:"nominee.is_nominee"}},[t._v("Nominee")])],1)])]),t._v(" "),a("div",{staticClass:"vx-row mt-3"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mode.save,expression:"mode.save"}],staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.create()}}},[t._v("Save")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mode.edit,expression:"mode.edit"}],staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.update()}}},[t._v("Update")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-full bg-white pt-3"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-1/2"},[a("div",{staticClass:"flex items-end px-3"},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"BriefcaseIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Family & Nominee")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-1/2"},[a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-plus"},on:{click:function(e){return t.callPopup("add")}}})],1)])]),t._v(" "),a("vs-divider")],1),t._v(" "),t._l(t.nominees,(function(e,s){return a("div",{key:s},[a("vx-card",{staticClass:"mb-base"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col  lg:w-10/12 md:w-10/12 w-7/12"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col lg:w-6/12 md:w-6/12 w-full "},[a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Nominee Name")]),t._v(" "),a("td",[t._v(t._s(e.nominee_name))])]),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Nominee Birtdate")]),t._v(" "),a("td",[t._v(t._s(e.formatted_birth_date))])]),t._v(" "),e.attachment_name?a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Identification Attachment")]),t._v(" "),a("td",[a("a",{staticClass:"flex py-2 px-4 cursor-pointer ",attrs:{href:e.file_path,download:e.attachment_name}},[a("feather-icon",{attrs:{icon:"PaperclipIcon",svgClasses:"w-4 h-4"}}),t._v(" "),a("span",{staticClass:"ml-2"},[t._v(t._s(e.attachment_name))])],1)])]):t._e()])]),t._v(" "),a("div",{staticClass:"vx-col lg:w-6/12 md:w-6/12 w-full "},[a("table",[a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Relation")]),t._v(" "),a("td",[t._v(t._s(e.relation))])]),t._v(" "),e.is_nominee?a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Nominee Share")]),t._v(" "),a("td",[t._v(t._s(e.nominee_share)+"%")])]):t._e(),t._v(" "),a("tr",[a("td",{staticClass:"font-semibold"},[t._v("Phone Number")]),t._v(" "),a("td",[t._v(t._s(e.phone_number))])])])])])]),t._v(" "),a("div",{staticClass:"vx-col lg:w-2/12 md:w-2/12 w-5/12"},[a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(a){return t.callPopup("edit",e)}}})],1),t._v(" "),a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(a){return t.actionConfirm(e.nominee_id,t.deleteDataProceed,"delete "+e.nominee_name)}}})],1)])])])],1)}))],2)}),[],!1,null,null,null).exports),y={data:function(){return{skills:[],skillNames:[],scales:[],popUp:!1,skill_id:null,mode:{add:!0,edit:!1},pop_title:"Add New Skill",skillNameOption:[],skillNameData:[],skillScaleOption:[],skillScaleData:[],selectedSkillName:"",selectedScale:""}},methods:{fetchSkillInfo:function(){var t=this;axios.get("/api/profile/skill-matrix/".concat(this.$route.params.id)).then((function(e){200===e.status?t.skills=e.data.skills:t.notificationAlert(e)})).catch((function(e){t.notificationAlert(e.response),console.log(e),t.user_not_found=!0}))},callPopup:function(t,e){var a=this;axios.get("/api/data/dropdown-items/".concat(this.$constants.CONST_SKILL_NAME)).then((function(t){a.skillNames=t.data.items})).catch((function(t){a.notificationAlert(t.response)})),axios.get("/api/data/dropdown-items/".concat(this.$constants.CONST_SKILL_SCALE)).then((function(t){a.scales=t.data.items})).catch((function(t){a.notificationAlert(t.response)})),"add"===t&&(this.pop_title="New Skill",this.mode.save=!0,this.mode.edit=!1,this.popUp=!this.popUp,this.selectedSkillName="",this.selectedScale=""),"edit"===t&&(console.log(e),this.pop_title="Edit Skill",this.selectedSkillName=e.skill_id,this.selectedScale=e.scale_id,this.skill_id=e.id,this.mode.save=!1,this.mode.edit=!0,this.popUp=!this.popUp,console.log(e))},create:function(){var t=this;this.btnDisabled=!0;var e={user_id:this.$route.params.id,skill:this.selectedSkillName,scale:this.selectedScale};axios.post("/api/profile/skill-create",e).then((function(e){t.notificationAlert(e),t.popUp=!t.popUp,t.fetchSkillInfo(),t.btnDisabled=!1})).catch((function(e){t.notificationAlert(e.response),t.btnDisabled=!1}))},update:function(){var t=this;this.btnDisabled=!0;var e={user_id:this.$route.params.id,skill:this.selectedSkillName,scale:this.selectedScale,skill_id:this.skill_id};this.btnDisabled=!0,axios.post("/api/profile/skill-update",e).then((function(e){t.notificationAlert(e),t.popUp=!t.popUp,t.btnDisabled=!1,t.fetchSkillInfo()})).catch((function(e){t.btnDisabled=!1,t.notificationAlert(e.response)}))},deleteDataProceed:function(t){var e=this;axios.get("/api/profile/skill-delete/".concat(t.id)).then((function(t){e.notificationAlert(t),e.fetchSkillInfo()})).catch((function(t){e.notificationAlert(t.response)}))}},mounted:function(){},created:function(){this.fetchSkillInfo()},computed:{}},k=Object(d.a)(y,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"skill-view"}},[a("vs-popup",{attrs:{mediumscreen:"",title:t.pop_title,active:t.popUp},on:{"update:active":function(e){t.popUp=e}}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Skill Name",label:"Skill Name"},model:{value:t.selectedSkillName,callback:function(e){t.selectedSkillName=e},expression:"selectedSkillName"}},t._l(t.skillNames,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.selectedSkillName,name:"skillsname",altName:"nkill name"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-1/2 w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Skill Scale",label:"Skill Scale"},model:{value:t.selectedScale,callback:function(e){t.selectedScale=e},expression:"selectedScale"}},t._l(t.scales,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.selectedScale,name:"skillsscale",altName:"skill scale"}})],1)]),t._v(" "),a("div",{staticClass:"vx-row mt-3"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mode.save,expression:"mode.save"}],staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.create()}}},[t._v("Save")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mode.edit,expression:"mode.edit"}],staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.update()}}},[t._v("Update")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-full bg-white pt-3"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-1/2"},[a("div",{staticClass:"flex items-end px-3"},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"SlidersIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Skill Matrix")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-1/2"},[a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-plus"},on:{click:function(e){return t.callPopup("add")}}})],1)])]),t._v(" "),a("vs-divider")],1),t._v(" "),a("vx-card",{staticClass:"mb-base"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full "},[a("vs-table",{attrs:{stripe:"",data:t.skills},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,s){return a("vs-tr",{key:s},[a("vs-td",{attrs:{data:e.skill_name}},[t._v("\n                          "+t._s(e.skill_name)+"\n                      ")]),t._v(" "),a("vs-td",{attrs:{data:e.skill_scale}},[t._v("\n                          "+t._s(e.skill_scale)+"\n                      ")]),t._v(" "),a("vs-td",{staticClass:"px-0",attrs:{data:e.skill_action}},[a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(a){return t.actionConfirm(e,t.deleteDataProceed,"delete "+e.skill_name)}}})],1),t._v(" "),a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(a){return t.callPopup("edit",e)}}})],1)])],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",{staticStyle:{width:"50%"},attrs:{"sort-key":"skill_name"}},[t._v("Skill Name")]),t._v(" "),a("vs-th",{staticStyle:{width:"30%"},attrs:{"sort-key":"skill_scale"}},[t._v("Skill Scale")]),t._v(" "),a("vs-th",{staticStyle:{width:"20%"}},[t._v("Action")])],1)],2)],1)])])],1)}),[],!1,null,null,null).exports,D={data:function(){return{employee_documents:[],employee_documents_type:[],doc_id:null,popUp:!1,skill_id:null,mode:{add:!0,edit:!1},pop_title:"Add New Skill",selectedType:"",doc:{doc:!0,document_info:null,hasFile:["Attachment"],attachmentName:null,Attachment:null}}},methods:{fetchDocInfo:function(){var t=this;axios.get("/api/profile/employee-docs/".concat(this.$route.params.id)).then((function(e){200===e.status?(t.employee_documents=[],t.employee_documents=e.data.employee_documents):t.notificationAlert(e)})).catch((function(e){t.notificationAlert(e.response),t.user_not_found=!0}))},callPopup:function(t,e){var a=this;this.doc.Attachment=null,axios.get("/api/data/dropdown-items/".concat(this.$constants.CONST_DD_DOCUMENT_TYPES)).then((function(t){a.employee_documents_type=t.data.items})).catch((function(t){a.notificationAlert(t.response)})),"add"===t&&(this.pop_title="New Document",this.doc.attachmentName=null,this.doc.document_title=null,this.doc.document_info=null,this.mode.save=!0,this.mode.edit=!1,this.popUp=!this.popUp,this.selectedType=""),"edit"===t&&(this.pop_title="Edit Document",this.mode.save=!1,this.mode.edit=!0,this.doc_id=e.document_id,this.doc.attachmentName=e.attachment_name,this.selectedType=e.document_title.value,this.doc.document_info=e.document_info,this.popUp=!this.popUp)},create:function(){var t=this,e={id:this.$route.params.id,doc:this.doc,type:this.selectedType,attachment:this.doc.Attachment},a=new FormData;formFiles(this.doc,a),a.append("data",JSON.stringify(e)),this.btnDisabled=!0,axios.post("/api/profile/employee-document-create",a).then((function(e){t.notificationAlert(e),t.popUp=!t.popUp,t.fetchDocInfo()})).catch((function(e){t.notificationAlert(e.response)})),this.btnDisabled=!1},update:function(){var t=this;this.btnDisabled=!0;var e={id:this.$route.params.id,doc_id:this.doc_id,type:this.selectedType,doc:this.doc,attachment:this.doc.Attachment},a=new FormData;formFiles(this.doc,a),a.append("data",JSON.stringify(e)),axios.post("/api/profile/employee-document-update",a).then((function(e){t.notificationAlert(e),t.popUp=!t.popUp,t.fetchDocInfo(),t.btnDisabled=!1})).catch((function(e){t.notificationAlert(e.response),t.btnDisabled=!1}))},attachmentInput:function(){var t=this,e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var a=e.target;a.files&&a.files[0]&&(t.doc.Attachment=a.files[0],t.doc.attachmentName=a.files[0].name)}},deleteDataProceed:function(t){var e=this;axios.get("/api/profile/employee-document-delete/".concat(t.document_id)).then((function(t){e.notificationAlert(t),e.fetchDocInfo()})).catch((function(t){e.notificationAlert(t.response)}))}},mounted:function(){},created:function(){this.fetchDocInfo()},computed:{}},A=Object(d.a)(D,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"docs-view"}},[a("vs-popup",{attrs:{mediumscreen:"",title:t.pop_title,active:t.popUp},on:{"update:active":function(e){t.popUp=e}}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-full w-full"},[a("vs-select",{staticClass:"w-full",attrs:{placeholder:"Document Title",label:"Document Title",autocomplete:""},model:{value:t.selectedType,callback:function(e){t.selectedType=e},expression:"selectedType"}},t._l(t.employee_documents_type,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.selectedType,name:"document_title",altName:"result type"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-full w-full"},[a("vs-input",{staticClass:"w-full",attrs:{label:"Document Information"},model:{value:t.doc.document_info,callback:function(e){t.$set(t.doc,"document_info",e)},expression:"doc.document_info"}}),t._v(" "),a("validate-data",{attrs:{rules:"required",value:t.doc.document_info,name:"information",altName:"information"}})],1),t._v(" "),a("div",{staticClass:"vx-col md:w-full w-full py-3"},[a("div",{staticClass:"pt-3 pr-3 font-bold"},[t._v("Document Attachment: ")]),t._v(" "),a("div",{staticClass:"flex"},[a("div",[a("vs-button",{staticClass:"ml-auto mt-2",attrs:{size:"small",color:"gray","icon-pack":"feather",icon:"icon-upload"},on:{click:function(e){return t.attachmentInput()}}},[t._v("Upload")])],1),t._v(" "),a("div",{staticClass:"pl-3 pt-3"},[t._v(t._s(t.doc.attachmentName))])])])]),t._v(" "),a("div",{staticClass:"vx-row mt-3"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mode.save,expression:"mode.save"}],staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.create()}}},[t._v("Save")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mode.edit,expression:"mode.edit"}],staticClass:"pt-1",attrs:{align:"right"}},[a("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(e){return t.update()}}},[t._v("Update")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-full bg-white pt-3"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-1/2"},[a("div",{staticClass:"flex items-end px-3"},[a("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"PaperclipIcon"}}),t._v(" "),a("span",{staticClass:"font-medium text-lg leading-none"},[t._v("Employee Documents")])],1)]),t._v(" "),a("div",{staticClass:"vx-col w-1/2"},[a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-plus"},on:{click:function(e){return t.callPopup("add")}}})],1)])]),t._v(" "),a("vs-divider")],1),t._v(" "),a("vx-card",{staticClass:"mb-base"},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("vs-table",{attrs:{stripe:"",data:t.employee_documents},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,s){return a("vs-tr",{key:s},[a("vs-td",{attrs:{data:e.document_title}},[t._v("\n                              "+t._s(e.document_title.label)+"\n                          ")]),t._v(" "),a("vs-td",{attrs:{data:e.document_info}},[t._v("\n                              "+t._s(e.document_info)+"\n                          ")]),t._v(" "),a("vs-td",{attrs:{data:e.attachment_link}},[e.attachment_name?a("a",{staticClass:"flex py-2 px-4 cursor-pointer ",attrs:{href:e.attachment_link,download:e.attachmentName}},[a("feather-icon",{attrs:{icon:"PaperclipIcon",svgClasses:"w-4 h-4"}}),t._v(" "),a("span",{staticClass:"ml-2"},[t._v(t._s(e.attachment_name))])],1):t._e()]),t._v(" "),a("vs-td",{staticClass:"px-0",attrs:{data:e.action}},[a("div",{staticClass:"float-right pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-x",color:"danger"},on:{click:function(a){return t.actionConfirm(e,t.deleteDataProceed,"delete this  "+e.document_title.label)}}})],1),t._v(" "),a("div",{staticClass:"float-right  pr-3"},[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-edit"},on:{click:function(a){return t.callPopup("edit",e)}}})],1)])],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"document_title"}},[t._v("Document Title")]),t._v(" "),a("vs-th",[t._v("Information")]),t._v(" "),a("vs-th",[t._v("Document Attachment")]),t._v(" "),a("vs-th",[t._v("Action")])],1)],2)],1)])])],1)}),[],!1,null,null,null).exports,S=a("08io"),P={components:{VJstree:a.n(S).a},data:function(){return{selectedTree:[],organizationTree:{disabled:!0}}},computed:{},methods:{fetchTreeInfo:function(){var t=this,e={id:this.$route.params.id};axios.get("/api/organization-tree/data",{params:e}).then((function(e){var a=e.data;a.constructor===Array?t.organizationTree=a:t.organizationTree=[]})).catch((function(e){t.notificationAlert(e.response)}))},treeItemClick:function(t,e,a){this.selectedTree=e;var s=_.cloneDeep(this.organizationTree);this.organizationTree=s},UpdateOrg:function(){var t=this,e={id:this.$route.params.id,organization_id:this.selectedTree.organizationid};axios.post("/api/profile/profile-tree-update",e).then((function(e){t.notificationAlert(e)})).catch((function(e){t.notificationAlert(e.response)}))}},mounted:function(){this.fetchTreeInfo()},created:function(){}},N=(a("c/y+"),{components:{UserSettingsBasic:u,UserSettingsChangePassword:p,UserSettingsGeneral:f,UserEducationInfo:b,UserJobHistory:w,UserNomineeInfo:x,UserSkills:k,UserDocs:A,UserSettingsTree:Object(d.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"org-tree-view"}},[a("div",{attrs:{id:"tree-data"}},[a("vx-card",{staticClass:"mb-base",attrs:{title:"Organization Tree"}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col flex-1",attrs:{id:"account-info-col-1"}},[a("div",[a("validate-data",{attrs:{rules:"required",value:t.selectedTree,name:"selectedTree",altName:"organization tree"}}),t._v(" "),a("v-jstree",{attrs:{data:t.organizationTree,size:"large","show-checkbox":""},on:{"item-click":t.treeItemClick}})],1)]),t._v(" "),this.$store.state.AppActiveUser.isAdmin?a("div",{staticClass:"vx-col w-full"},[a("div",{staticClass:"float-right pb-2"},[a("vs-button",{attrs:{size:"small"},on:{click:function(e){return t.UpdateOrg()}}},[t._v("Update")])],1)]):t._e()])])],1)])}),[],!1,null,null,null).exports},data:function(){return{user_not_found:!1,user_info:!0}},methods:{},mounted:function(){},computed:{isSmallerScreen:function(){return this.$store.state.windowWidth<768},canChangePass:function(){return console.log("Hasib",this.$store.state),this.$route.params.id===this.$store.state.AppActiveUser.uid},isAdmin:function(){return this.$store.state.AppActiveUser.roleId===this.$constants.CONST_ROLE_COMPANY_ADMIN&&this.$route.params.id===this.$store.state.AppActiveUser.uid}}}),I=(a("7YeT"),Object(d.a)(N,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vs-alert",{attrs:{color:"danger",title:"User Not Found",active:t.user_not_found},on:{"update:active":function(e){t.user_not_found=e}}},[a("span",[t._v("User record with id: "+t._s(t.$route.params.id)+" not found. ")]),t._v(" "),a("span",[a("span",[t._v("Check ")]),a("router-link",{staticClass:"text-inherit underline",attrs:{to:{name:"UserList"}}},[t._v("All Users")])],1)]),t._v(" "),t.user_info?a("div",[a("vs-tabs",{key:t.isSmallerScreen,staticClass:"tabs-shadow-none",attrs:{position:t.isSmallerScreen?"top":"left",id:"profile-tabs"}},[a("vs-tab",{attrs:{"icon-pack":"feather",icon:"icon-user",label:t.isSmallerScreen?"":"Basic Info"}},[a("div",{staticClass:"tab-general md:ml-4 md:mt-0 mt-4 ml-0"},[a("user-settings-basic")],1)]),t._v(" "),t.canChangePass?a("vs-tab",{attrs:{"icon-pack":"feather",icon:"icon-lock",label:t.isSmallerScreen?"":"Change Password"}},[a("div",{staticClass:"tab-change-pwd md:ml-4 md:mt-0 mt-4 ml-0"},[a("user-settings-change-password")],1)]):t._e(),t._v(" "),t.isAdmin?t._e():a("vs-tab",{attrs:{"icon-pack":"feather",icon:"icon-info",label:t.isSmallerScreen?"":"General Info"}},[a("div",{staticClass:"tab-info md:ml-4 md:mt-0 mt-4 ml-0"},[a("user-settings-general")],1)]),t._v(" "),t.isAdmin?t._e():a("vs-tab",{attrs:{"icon-pack":"feather",icon:"icon-git-pull-request",label:t.isSmallerScreen?"":"Organization Tree"}},[a("div",{staticClass:"tab-info md:ml-4 md:mt-0 mt-4 ml-0"},[a("user-settings-tree")],1)]),t._v(" "),t.isAdmin?t._e():a("vs-tab",{attrs:{"icon-pack":"feather",icon:"icon-book",label:t.isSmallerScreen?"":"Education History"}},[a("div",{staticClass:"tab-social-links md:ml-4 md:mt-0 mt-4 ml-0"},[a("user-education-info")],1)]),t._v(" "),t.isAdmin?t._e():a("vs-tab",{attrs:{"icon-pack":"feather",icon:"icon-briefcase",label:t.isSmallerScreen?"":"Job History"}},[a("div",{staticClass:"tab-text md:ml-4 md:mt-0 mt-4 ml-0"},[a("user-job-history")],1)]),t._v(" "),t.isAdmin?t._e():a("vs-tab",{attrs:{"icon-pack":"feather",icon:"icon-user",label:t.isSmallerScreen?"":"Family & Nominee"}},[a("div",{staticClass:"tab-text md:ml-4 md:mt-0 mt-4 ml-0"},[a("user-nominee-info")],1)]),t._v(" "),t.isAdmin?t._e():a("vs-tab",{attrs:{"icon-pack":"feather",icon:"icon-sliders",label:t.isSmallerScreen?"":"Skills"}},[a("div",{staticClass:"tab-text md:ml-4 md:mt-0 mt-4 ml-0"},[a("user-skills")],1)]),t._v(" "),t.isAdmin?t._e():a("vs-tab",{attrs:{"icon-pack":"feather",icon:"icon-paperclip",label:t.isSmallerScreen?"":"Documents"}},[a("div",{staticClass:"tab-text md:ml-4 md:mt-0 mt-4 ml-0"},[a("user-docs")],1)])],1)],1):t._e()],1)}),[],!1,null,null,null));e.default=I.exports},ZDpo:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"#edu-info-view table td{vertical-align:top;min-width:140px;padding-bottom:.8rem;word-break:break-all}@media only screen and (min-width:636px) and (max-width:991px),screen and (min-width:1201px) and (max-width:1211px){.edu-info-col-1{width:calc(100% - 12rem)!important}}",""])},"c/y+":function(t,e,a){"use strict";a("QVyN")},"fDn/":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"#avatar-col{width:10rem}#gen-info-view table td{vertical-align:top;min-width:140px;padding-bottom:.8rem;word-break:break-all}@media screen and (max-width:370px){#gen-info-view table:not(.permissions-table) td{display:block}}@media only screen and (min-width:636px) and (max-width:991px),screen and (min-width:1201px) and (max-width:1211px){#account-info-col-1,#account-info-col-2{width:calc(100% - 12rem)!important}}",""])},fQlA:function(t,e,a){"use strict";a("sOAB")},jHpy:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"#avatar-col{width:10rem}#page-user-view table td{vertical-align:top;min-width:140px;padding-bottom:.8rem;word-break:break-all}@media only screen and (min-width:636px) and (max-width:991px),screen and (min-width:1201px) and (max-width:1211px){#account-info-col-1{width:calc(100% - 12rem)!important}}",""])},n23o:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"#avatar-col{width:10rem}#org-tree-view table td{vertical-align:top;min-width:100px;padding-bottom:.8rem;word-break:break-all}@media screen and (max-width:370px){#org-tree-view table:not(.permissions-table) td{display:block}}@media only screen and (min-width:636px) and (max-width:991px),screen and (min-width:1201px) and (max-width:1211px){#account-info-col-1{width:calc(100% - 12rem)!important}}",""])},sOAB:function(t,e,a){var s=a("B5o3");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)},yaFq:function(t,e,a){var s=a("OTmQ");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)}}]);