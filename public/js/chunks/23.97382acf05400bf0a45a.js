(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"24A8":function(t,a,e){"use strict";e("8k+k")},"8k+k":function(t,a,e){var s=e("k08d");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(s,i);s.locals&&(t.exports=s.locals)},k08d:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,".vs-tooltip{z-index:99999!important}",""])},nr88:function(t,a,e){"use strict";e.r(a);var s=e("o0o1"),i=e.n(s);function n(t,a,e,s,i,n,l){try{var r=t[n](l),o=r.value}catch(t){return void e(t)}r.done?a(o):Promise.resolve(o).then(s,i)}function l(t){return function(){var a=this,e=arguments;return new Promise((function(s,i){var l=t.apply(a,e);function r(t){n(l,s,i,r,o,"next",t)}function o(t){n(l,s,i,r,o,"throw",t)}r(void 0)}))}}var r={components:{},data:function(){return{moduleData:[],inputModalSt:!1,modalTitle:null,modalType:null,prefix:{assetNameData:[]},assetPackage:[],packageTitle:"",intervalData:["Day","Month","Year"],assetData:[],comment:"",id:null}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;return l(i.a.mark((function a(){var e;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,axios.get("/api/asset-package/data");case 3:e=a.sent,t.prefix.assetNameData=e.data.assetName,t.assetPackage=e.data.assetPackage,a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t.notificationAlert(a.t0.response);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()},inputModal:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.inputModalSt=!this.inputModalSt,this.modalType=t,this.resetError(),"new"==t?(this.modalTitle="Add New Asset Package",this.packageTitle="",this.comment="",this.manageAsset("new")):"edit"==t&&(this.modalTitle="Edit Asset Package",this.packageTitle=a.name,this.assetData=_.cloneDeep(a.asset),this.comment=a.comment,this.id=a.id)},manageAsset:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e={asset:null,quantity:null,duration:null,interval:null};"new"==t&&(this.assetData=[],this.assetData.push(e)),"newItem"==t&&this.assetData.push(e),"delete"==t&&a>-1&&this.assetData.splice(a,1)},create:function(){var t=this;return l(i.a.mark((function a(){var e,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.errorData={},a.prev=1,e={packageTitle:t.packageTitle,assetData:t.assetData,comment:t.comment},!t.validateInput(e)){a.next=9;break}return t.btnDisabled=!0,a.next=7,axios.post("/api/asset-package/data/create",e);case 7:(s=a.sent)&&(t.inputModalSt=!1,t.notificationAlert(s),t.loadData());case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),t.notificationAlert(a.t0.response);case 14:case"end":return a.stop()}}),a,null,[[1,11]])})))()},update:function(){var t=this;return l(i.a.mark((function a(){var e,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.btnDisabled=!0,t.errorData={},a.prev=2,e={packageTitle:t.packageTitle,assetData:t.assetData,comment:t.comment,id:t.id},a.next=6,axios.post("/api/asset-package/data/update",e);case 6:(s=a.sent)&&(t.inputModalSt=!1,t.notificationAlert(s),t.loadData()),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),t.notificationAlert(a.t0.response);case 13:case"end":return a.stop()}}),a,null,[[2,10]])})))()},deleteData:function(t){console.log(this),this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure, you want to delete this Asset Package?",acceptText:"ok",accept:this.deleteDataProceed,parameters:t})},deleteDataProceed:function(t){var a=this;return l(i.a.mark((function e(){var s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={id:t.id},e.next=4,axios.post("/api/asset-package/data/delete",s);case 4:(n=e.sent)&&(a.loadData(),a.notificationAlert(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.notificationAlert(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},o=(e("24A8"),e("KHd+")),c=Object(o.a)(r,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("vx-card",{attrs:{title:""}},[e("div",[e("div",{},[e("div",{staticClass:"flex"},[e("div",{staticClass:"flex-auto"}),t._v(" "),e("div",[e("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-plus"},on:{click:function(a){return t.inputModal("new")}}},[t._v("Add New")])],1)]),t._v(" "),e("div",{staticClass:"pt-3",staticStyle:{"min-height":"300px"}},[e("vs-table",{attrs:{"max-items":"10",pagination:"",search:"",stripe:"",data:t.assetPackage},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.data;return t._l(s,(function(a,s){return e("vs-tr",{key:s},[e("vs-td",{attrs:{data:a.name}},[t._v("\r\n                  "+t._s(a.name)+"\r\n                ")]),t._v(" "),e("vs-td",{attrs:{data:a.asset}},t._l(a.asset,(function(a,s){return e("div",{key:s,staticClass:"flex py-1"},[e("div",{staticClass:"flex-auto"},[t._v(t._s(a.asset))]),t._v(" "),e("div",{staticClass:"flex-auto",staticStyle:{"max-width":"80px"}},[t._v(t._s(a.quantity))]),t._v(" "),e("div",{staticClass:"flex-auto",staticStyle:{"max-width":"80px"}},[t._v(t._s(a.duration))]),t._v(" "),e("div",{staticClass:"flex-auto",staticStyle:{"max-width":"80px"}},[t._v(t._s(a.interval))])])})),0),t._v(" "),e("vs-td",{attrs:{data:a.comment}},[t._v("\r\n                  "+t._s(a.comment)+"\r\n                ")]),t._v(" "),e("vs-td",{staticClass:"w-10"},[e("div",{staticClass:"flex pt-1"},[e("div",{staticClass:"flex-auto cursor-pointer",attrs:{align:"center"},on:{click:function(e){return t.inputModal("edit",a)}}},[e("i",{staticClass:"material-icons text-lg icon align"},[t._v("edit")])]),t._v(" "),e("div",{staticClass:"flex-auto cursor-pointer",attrs:{align:"center"},on:{click:function(e){return t.deleteData(a)}}},[e("i",{staticClass:"material-icons text-lg icon align"},[t._v("delete")])])])])],1)}))}}])},[e("template",{slot:"thead"},[e("vs-th",[t._v("Asset Name")]),t._v(" "),e("vs-th",[e("div",{staticClass:"flex w-full"},[e("div",{staticClass:"flex-auto"},[t._v("Asset")]),t._v(" "),e("div",{staticClass:"flex-auto",staticStyle:{"max-width":"80px"}},[t._v("Quantity")]),t._v(" "),e("div",{staticClass:"flex-auto",staticStyle:{"max-width":"80px"}},[t._v("Duration")]),t._v(" "),e("div",{staticClass:"flex-auto",staticStyle:{"max-width":"80px"}},[t._v("Interval")])])]),t._v(" "),e("vs-th",[t._v("Comment")]),t._v(" "),e("vs-th",{staticClass:"w-10 text-center"},[t._v("Action")])],1)],2)],1)]),t._v(" "),e("vs-popup",{attrs:{title:t.modalTitle,active:t.inputModalSt},on:{"update:active":function(a){t.inputModalSt=a}}},[e("form",[e("div",{},[e("div",[e("vs-input",{staticClass:"vx-col md:w-11/12 w-full pt-3",attrs:{"label-placeholder":"Asset Title"},model:{value:t.packageTitle,callback:function(a){t.packageTitle=a},expression:"packageTitle"}}),t._v(" "),e("validate-data",{attrs:{rules:"required",value:t.packageTitle,name:"packageTitle",altName:"Package Title"}})],1),t._v(" "),t._l(t.assetData,(function(a,s){return e("div",{key:s},[e("div",{staticClass:"vx-col md:w-11/12 w-full pt-3"},[e("search-box",{attrs:{label:"Asset Name",items:t.prefix.assetNameData},model:{value:a.asset,callback:function(e){t.$set(a,"asset",e)},expression:"item.asset"}}),t._v(" "),e("validate-data",{attrs:{rules:"required",value:a.asset,name:"assetData."+s+".asset",altName:"asset"}})],1),t._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col md:w-3/12 w-full overflow-hidden"},[e("vs-input",{staticClass:"w-full pt-2",attrs:{label:"Quantity"},model:{value:a.quantity,callback:function(e){t.$set(a,"quantity",e)},expression:"item.quantity"}}),t._v(" "),e("validate-data",{attrs:{rules:"required|integer",value:a.quantity,name:"assetData."+s+".quantity",altName:"quantity"}})],1),t._v(" "),e("div",{staticClass:"vx-col md:w-4/12 w-full overflow-hidden"},[e("vs-select",{staticClass:"w-full pt-2",attrs:{placeholder:"Interval",label:"Interval"},model:{value:a.interval,callback:function(e){t.$set(a,"interval",e)},expression:"item.interval"}},t._l(t.intervalData,(function(t,a){return e("vs-select-item",{key:a,attrs:{value:t,text:t}})})),1),t._v(" "),e("validate-data",{attrs:{rules:"required",value:a.interval,name:"assetData."+s+".interval",altName:"interval"}})],1),t._v(" "),e("div",{staticClass:"vx-col md:w-3/12 w-full overflow-hidden"},[e("vs-input",{staticClass:"w-full pt-2",attrs:{label:"Duration"},model:{value:a.duration,callback:function(e){t.$set(a,"duration",e)},expression:"item.duration"}}),t._v(" "),e("validate-data",{attrs:{rules:"required|integer",value:a.duration,name:"assetData."+s+".duration",altName:"duration"}})],1),t._v(" "),e("div",{staticClass:"vx-col md:w-1/12 w-full pt-6"},[e("span",{staticClass:"centerx"},[e("vs-tooltip",{attrs:{text:"Remove"}},[e("vs-button",{directives:[{name:"show",rawName:"v-show",value:s||!s&&t.assetData.length>1,expression:"index || ( !index && assetData.length > 1)"}],staticClass:"flex-auto mr-3",attrs:{size:"large",color:"danger",type:"flat","icon-pack":"feather",icon:"icon-x"},on:{click:function(a){return t.manageAsset("delete",s)}}})],1),t._v(" "),e("vs-tooltip",{attrs:{text:"Add New"}},[e("vs-button",{directives:[{name:"show",rawName:"v-show",value:s===t.assetData.length-1,expression:"index === assetData.length-1"}],staticClass:"flex-auto",attrs:{size:"large",color:"primary",type:"flat","icon-pack":"feather",icon:"icon-plus"},on:{click:function(a){return t.manageAsset("newItem")}}})],1)],1)])]),t._v(" "),e("vs-divider")],1)})),t._v(" "),e("div",{staticClass:"pt-3"},[e("vs-textarea",{attrs:{label:"Comment"},model:{value:t.comment,callback:function(a){t.comment=a},expression:"comment"}})],1),t._v(" "),e("div",{staticClass:"mt-8"},["new"==t.modalType?e("div",{staticClass:"pt-1",attrs:{align:"right"}},[e("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(a){return t.create()}}},[t._v("Create")])],1):t._e(),t._v(" "),"edit"==t.modalType?e("div",{staticClass:"pt-1",attrs:{align:"right"}},[e("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(a){return t.update()}}},[t._v("Update")])],1):t._e()])],2)])])],1)])}),[],!1,null,null,null);a.default=c.exports}}]);