(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{GJpU:function(t,e,a){"use strict";a.r(e);var s=a("o0o1"),n=a.n(s),i=a("Snq/");function o(t,e,a,s,n,i,o){try{var r=t[i](o),l=r.value}catch(t){return void a(t)}r.done?e(l):Promise.resolve(l).then(s,n)}var r={components:{vSelect:a.n(i).a},data:function(){return{companyData:[],inputModalSt:!1,modalTitle:null,modalType:null,name:"",logo:"",id:"",address:"",phone:"",website:"",email:"",companyStatus:[{label:"Active",value:1},{label:"Inactive",value:0},{label:"All",value:-1}],statusFilter:{label:"Active",value:1}}},mounted:function(){this.fetchCompanies()},methods:{fetchCompanies:function(){var t,e=this;return(t=n.a.mark((function t(){var a,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={is_active:e.statusFilter.value},e.$vs.loading({container:"#div-with-loading",scale:.6}),t.next=5,axios.get("/api/company-list/data",{params:a});case 5:s=t.sent,e.companyData=s.data,e.$vs.loading.close("#div-with-loading > .con-vs-loading"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e.$vs.loading.close("#div-with-loading > .con-vs-loading"),e.notificationAlert(t.t0.response);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,a=arguments;return new Promise((function(s,n){var i=t.apply(e,a);function r(t){o(i,s,n,r,l,"next",t)}function l(t){o(i,s,n,r,l,"throw",t)}r(void 0)}))})()},moduleData:function(t){return t},deleteData:function(t){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm Delete",text:"You are about to delete",parameters:t,accept:this.deleteRecord,acceptText:"Delete"})},deleteRecord:function(t){var e=this,a={id:t.id};axios.post("api/company-list/delete",a).then((function(t){e.notificationAlert(t),e.fetchCompanies()})).catch((function(t){e.notificationAlert(t.response)}))},resetColFilters:function(){this.statusFilter={label:"Active",value:1},this.fetchCompanies(),this.$refs.filterCard.removeRefreshAnimation()}}},l=(a("J8ZI"),a("KHd+")),c=Object(l.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vx-card",{ref:"filterCard",staticClass:"user-list-filters mb-8",attrs:{title:"Filters",actionButtons:""},on:{refresh:t.resetColFilters,remove:t.resetColFilters}},[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-3/12 sm:w-1/2 w-full"},[a("label",{staticClass:"text-sm opacity-75"},[t._v("Status Type")]),t._v(" "),a("v-select",{staticClass:"mb-4 md:mb-0 mt-4",attrs:{options:t.companyStatus,clearable:!1},on:{input:t.fetchCompanies},model:{value:t.statusFilter,callback:function(e){t.statusFilter=e},expression:"statusFilter"}})],1)])]),t._v(" "),a("vx-card",[a("div",{staticClass:"flex"},[a("div",{staticClass:"flex-auto"}),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-plus"},on:{click:function(e){return t.$router.push({path:"/company-create"})}}},[t._v("Add New")])],1)]),t._v(" "),a("div",{staticClass:"pt-1",staticStyle:{"min-height":"300px"}},[a("vs-table",{attrs:{"max-items":"10",stripe:"",search:"",pagination:"",data:t.companyData},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,s){return a("vs-tr",{key:s},[a("vs-td",{attrs:{data:e.company_logo}},[a("div",{staticClass:"flex"},[a("img",{staticStyle:{width:"80px"},attrs:{src:e.company_logo,alt:"logo"}})])]),t._v(" "),a("vs-td",{attrs:{data:e.name}},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),a("vs-td",{attrs:{data:e.package_name}},[t._v("\n                "+t._s(e.package_name)+"\n              ")]),t._v(" "),a("vs-td",{attrs:{data:e.email}},[t._v("\n                "+t._s(e.email)+"\n              ")]),t._v(" "),a("vs-td",{attrs:{data:e.phone}},[t._v("\n                "+t._s(e.phone)+"\n              ")]),t._v(" "),a("vs-td",{attrs:{data:e.website}},[t._v("\n                "+t._s(e.website)+"\n              ")]),t._v(" "),a("vs-td",{staticClass:"w-10 "},[a("vs-dropdown",{attrs:{"vs-trigger-click":""}},[a("vs-button",{attrs:{color:"dark",icon:"more_vert",type:"flat"}}),t._v(" "),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(a){return t.$router.push({path:"/company-view/"+e.id})}}},[a("span",{staticClass:"flex items-center"},[a("vs-icon",{staticClass:"mr-2",attrs:{icon:"preview"}}),t._v(" "),a("span",[t._v("View Company")])],1)])],1)],1)],1)],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",[t._v("Logo")]),t._v(" "),a("vs-th",{attrs:{"sort-key":"name"}},[t._v("Name")]),t._v(" "),a("vs-th",[t._v("Package")]),t._v(" "),a("vs-th",[t._v("Email")]),t._v(" "),a("vs-th",[t._v("Phone")]),t._v(" "),a("vs-th",[t._v("Website")]),t._v(" "),a("vs-th",{staticClass:"w-10 text-center"},[t._v("Action")])],1)],2)],1)])],1)}),[],!1,null,null,null);e.default=c.exports},J8ZI:function(t,e,a){"use strict";a("rhzZ")},qemA:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".vc-popover-content-wrapper{z-index:99999!important}.con-vs-dropdown--menu{width:15%}",""])},rhzZ:function(t,e,a){var s=a("qemA");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)}}]);