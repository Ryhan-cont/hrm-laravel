(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{RxQw:function(t,a,e){"use strict";e.r(a);var r=e("o0o1"),s=e.n(r);function n(t,a,e,r,s,n,i){try{var o=t[n](i),l=o.value}catch(t){return void e(t)}o.done?a(l):Promise.resolve(l).then(r,s)}function i(t){return function(){var a=this,e=arguments;return new Promise((function(r,s){var i=t.apply(a,e);function o(t){n(i,r,s,o,l,"next",t)}function l(t){n(i,r,s,o,l,"throw",t)}o(void 0)}))}}var o={components:{},data:function(){return{moduleData:[],inputModalSt:!1,modalTitle:null,modalType:null,loiOrgTypeData:[],loiOrganization:[],orgType:"",orgName:"",organizationAddress:"",letterAddressTo:"",id:null}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;return i(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:axios.get("/api/loi-organization/data").then((function(a){t.loiOrganization=a.data.loiOrganization})).catch((function(a){t.notificationAlert(a.response)}));case 1:case"end":return a.stop()}}),a)})))()},inputModal:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];axios.get("/api/data/dropdown-items/".concat(this.$constants.CONST_ORG_TYPE)).then((function(t){a.loiOrgTypeData=t.data.items})).catch((function(t){console.log(t)})),this.inputModalSt=!this.inputModalSt,this.modalType=t,"new"==t?(this.modalTitle="Add New LOI Organization",this.orgType="",this.orgName="",this.organizationAddress="",this.letterAddressTo="",this.errorData={}):"edit"==t&&(this.modalTitle="Edit LOI Organization",this.orgType=e.type,this.orgName=e.name,this.organizationAddress=e.address,this.letterAddressTo=e.letter_to,this.id=e.id,this.errorData={})},create:function(){var t=this;return i(s.a.mark((function a(){var e,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.errorData={},a.prev=1,e={orgType:t.orgType,orgName:t.orgName,organizationAddress:t.organizationAddress,letterAddressTo:t.letterAddressTo},t.btnDisabled=!0,a.next=6,axios.post("/api/loi-organization/data/create",e);case 6:(r=a.sent).data&&(t.inputModalSt=!1,t.notificationAlert(r),t.loadData()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),a.t0.response.data.errors?t.errorData=a.t0.response.data.errors:t.errorData=a.t0.response.data.message,t.notificationAlert(a.t0.response);case 14:t.btnDisabled=!1;case 15:case"end":return a.stop()}}),a,null,[[1,10]])})))()},update:function(){var t=this;return i(s.a.mark((function a(){var e,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.errorData={},a.prev=1,e={orgType:t.orgType,orgName:t.orgName,organizationAddress:t.organizationAddress,letterAddressTo:t.letterAddressTo,id:t.id},t.btnDisabled=!0,a.next=6,axios.post("/api/loi-organization/data/update",e);case 6:(r=a.sent).data&&(t.inputModalSt=!1,t.notificationAlert(r),t.loadData()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),a.t0.response.data.errors?t.errorData=a.t0.response.data.errors:t.errorData=a.t0.response.data.message,t.notificationAlert(a.t0.response);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},deleteDataProceed:function(t){var a=this;return i(s.a.mark((function e(){var r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={id:t.id},e.next=4,axios.post("/api/loi-organization/data/delete",r);case 4:(n=e.sent).data&&(a.loadData(),a.notificationAlert(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.notificationAlert(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},l=e("KHd+"),d=Object(l.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("vx-card",{attrs:{title:""}},[e("div",[e("div",{staticClass:"flex"},[e("div",{staticClass:"flex-auto"}),t._v(" "),e("div",[e("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-plus"},on:{click:function(a){return t.inputModal("new")}}},[t._v("Add New\n                ")])],1)]),t._v(" "),e("div",{staticClass:"pt-3",staticStyle:{"min-height":"300px"}},[e("vs-table",{attrs:{"max-items":"10",pagination:"",search:"",stripe:"",data:t.loiOrganization},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.data;return t._l(r,(function(a,r){return e("vs-tr",{key:r},[e("vs-td",{attrs:{data:a.type_name}},[t._v("\n                            "+t._s(a.type_name)+"\n                        ")]),t._v(" "),e("vs-td",{attrs:{data:a.name}},[t._v("\n                            "+t._s(a.name)+"\n                        ")]),t._v(" "),e("vs-td",{attrs:{data:a.address}},[t._v("\n                            "+t._s(a.address)+"\n                        ")]),t._v(" "),e("vs-td",{attrs:{data:a.letter_to}},[t._v("\n                            "+t._s(a.letter_to)+"\n                        ")]),t._v(" "),e("vs-td",{staticClass:"w-10"},[e("div",{staticClass:"flex pt-1"},[e("div",{staticClass:"flex-auto cursor-pointer",attrs:{align:"center"},on:{click:function(e){return t.inputModal("edit",a)}}},[e("i",{staticClass:"material-icons text-lg icon align"},[t._v("edit")])]),t._v(" "),e("div",{staticClass:"flex-auto cursor-pointer",attrs:{align:"center"},on:{click:function(e){return t.actionConfirm(a,t.deleteDataProceed,"delete "+a.degree_name)}}},[e("i",{staticClass:"material-icons text-lg icon align"},[t._v("delete")])])])])],1)}))}}])},[e("template",{slot:"thead"},[e("vs-th",[t._v("Organization Type")]),t._v(" "),e("vs-th",[t._v("Organization Name")]),t._v(" "),e("vs-th",[t._v("Organization Address")]),t._v(" "),e("vs-th",[t._v("Letter Address To")]),t._v(" "),e("vs-th",{staticClass:"w-10 text-center"},[t._v("Action")])],1)],2)],1),t._v(" "),e("vs-popup",{attrs:{title:t.modalTitle,active:t.inputModalSt},on:{"update:active":function(a){t.inputModalSt=a}}},[e("form",[e("div",{},[e("div",{staticClass:"flex-auto pt-3"},[e("vs-select",{staticClass:"w-full",attrs:{placeholder:"Organization Type",label:"Organization Type",autocomplete:""},model:{value:t.orgType,callback:function(a){t.orgType=a},expression:"orgType"}},t._l(t.loiOrgTypeData,(function(t,a){return e("vs-select-item",{key:a,attrs:{value:t.value,text:t.label}})})),1),t._v(" "),e("validate-data",{attrs:{rules:"required",value:t.orgType,name:"Organization Type",altName:"Organization Type"}})],1),t._v(" "),t.errorData.orgType?e("div",{staticClass:"py-1 text-sm text-red-400"},[t._v(t._s(t.errorData.orgType[0]))]):t._e(),t._v(" "),e("vs-input",{staticClass:"w-full pt-3",attrs:{"label-placeholder":"Organization Name"},model:{value:t.orgName,callback:function(a){t.orgName=a},expression:"orgName"}}),t._v(" "),t.errorData.orgName?e("div",{staticClass:"py-1 text-sm text-red-400"},[t._v(t._s(t.errorData.orgName[0]))]):t._e(),t._v(" "),e("vs-input",{staticClass:"w-full pt-3",attrs:{"label-placeholder":"Organization Address"},model:{value:t.organizationAddress,callback:function(a){t.organizationAddress=a},expression:"organizationAddress"}}),t._v(" "),t.errorData.organizationAddress?e("div",{staticClass:"py-1 text-sm text-red-400"},[t._v("\n                        "+t._s(t.errorData.organizationAddress[0])+"\n                    ")]):t._e(),t._v(" "),e("vs-input",{staticClass:"w-full pt-3",attrs:{"label-placeholder":"Letter Address To"},model:{value:t.letterAddressTo,callback:function(a){t.letterAddressTo=a},expression:"letterAddressTo"}}),t._v(" "),t.errorData.letterAddressTo?e("div",{staticClass:"py-1 text-sm text-red-400"},[t._v("\n                        "+t._s(t.errorData.letterAddressTo[0])+"\n                    ")]):t._e()],1),t._v(" "),e("div",{staticClass:"mt-8"},["new"==t.modalType?e("div",{staticClass:"pt-1",attrs:{align:"right"}},[e("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(a){return t.create()}}},[t._v("Create")])],1):t._e(),t._v(" "),"edit"==t.modalType?e("div",{staticClass:"pt-1",attrs:{align:"right"}},[e("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(a){return t.update()}}},[t._v("Update")])],1):t._e()])])])],1)])}),[],!1,null,null,null);a.default=d.exports}}]);