(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"18E/":function(t,i,e){var a=e("KN7C");"string"==typeof a&&(a=[[t.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(a,s);a.locals&&(t.exports=a.locals)},KN7C:function(t,i,e){(t.exports=e("I1BE")(!1)).push([t.i,".vs-tooltip{z-index:99999!important}",""])},mi9B:function(t,i,e){"use strict";e("18E/")},vGYa:function(t,i,e){"use strict";e.r(i);var a=e("o0o1"),s=e.n(a);function l(t,i,e,a,s,l,n){try{var o=t[l](n),r=o.value}catch(t){return void e(t)}o.done?i(r):Promise.resolve(r).then(a,s)}var n={components:{},data:function(){return{moduleData:[],inputModalSt:!1,modalTitle:null,modalType:null,prefix:{jobSkillData:[],jobSkillScaleData:[]},jobDescription:[],jobTitle:"",keyResponsibilities:"",skillData:[],id:null}},mounted:function(){this.loadData()},methods:{loadData:function(){var t,i=this;return(t=s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/api/job-description/data");case 3:e=t.sent,i.prefix.jobSkillData=e.data.jobSkill,i.prefix.jobSkillScaleData=e.data.skillScale,i.jobDescription=e.data.jobDescription,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),i.notificationAlert(t.t0.response);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),function(){var i=this,e=arguments;return new Promise((function(a,s){var n=t.apply(i,e);function o(t){l(n,a,s,o,r,"next",t)}function r(t){l(n,a,s,o,r,"throw",t)}o(void 0)}))})()},inputModal:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.inputModalSt=!this.inputModalSt,this.modalType=t,this.resetError(),console.log(this.$store.state.formValidationField),"new"==t?(this.modalTitle="Add New Job Description",this.jobTitle="",this.keyResponsibilities="",this.manageSkill("new")):"edit"==t&&(this.modalTitle="Edit Job Description",this.jobTitle=i.name,this.keyResponsibilities=i.comment,this.skillData=_.cloneDeep(i.skills),this.id=i.id)},manageSkill:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e={skill:null,scale:null};"new"==t&&(this.skillData=[],this.skillData.push(e)),"newItem"==t&&this.skillData.push(e),"delete"==t&&i>-1&&this.skillData.splice(i,1)},create:function(){var t=this;this.errorData={};var i={jobTitle:this.jobTitle,keyResponsibilities:this.keyResponsibilities,skillData:this.skillData};this.validateInput(i)&&(this.btnDisabled=!0,axios.post("/api/job-description/data/create",i).then((function(i){t.inputModalSt=!1,t.loadData(),t.notificationAlert(i)})).catch((function(i){t.notificationAlert(i.response)})),this.btnDisabled=!1)},update:function(){var t=this;this.errorData={};var i={jobTitle:this.jobTitle,keyResponsibilities:this.keyResponsibilities,skillData:this.skillData,id:this.id};axios.post("/api/job-description/data/update",i).then((function(i){t.inputModalSt=!1,t.loadData(),t.notificationAlert(i)})).catch((function(i){t.notificationAlert(i.response)}))},deleteData:function(t){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm",text:"Are you sure, you want to delete this Job Description?",acceptText:"ok",accept:this.deleteDataProceed,parameters:t})},deleteDataProceed:function(t){var i=this,e={id:t.id};axios.post("/api/job-description/data/delete",e).then((function(t){i.loadData(),i.notificationAlert(t)})).catch((function(t){i.notificationAlert(t.response)}))}}},o=(e("mi9B"),e("KHd+")),r=Object(o.a)(n,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("vx-card",{attrs:{title:""}},[e("div",[e("div",{},[e("div",{staticClass:"flex"},[e("div",{staticClass:"flex-auto"}),t._v(" "),e("div",[e("vs-button",{attrs:{size:"small","icon-pack":"feather",icon:"icon-plus"},on:{click:function(i){return t.inputModal("new")}}},[t._v("Add New ")])],1)]),t._v(" "),e("div",{staticClass:"pt-3",staticStyle:{"min-height":"300px"}},[e("vs-table",{attrs:{"max-items":"10",pagination:"",search:"",stripe:"",data:t.jobDescription},scopedSlots:t._u([{key:"default",fn:function(i){var a=i.data;return t._l(a,(function(i,a){return e("vs-tr",{key:a},[e("vs-td",{attrs:{data:i.name}},[t._v("\n                                "+t._s(i.name)+"\n                            ")]),t._v(" "),e("vs-td",{attrs:{data:i.comment}},[t._v("\n                                "+t._s(i.comment)+"\n                            ")]),t._v(" "),e("vs-td",{attrs:{data:i.skills}},[e("div",t._l(i.skills,(function(i,a){return e("div",{key:a,staticClass:"flex py-1"},[e("div",{staticClass:"flex-auto"},[t._v(t._s(i.skill))]),t._v(" "),e("div",{staticClass:"flex-auto",staticStyle:{"max-width":"50px"}},[t._v(t._s(i.scale))])])})),0)]),t._v(" "),e("vs-td",{staticClass:"w-10"},[e("div",{staticClass:"flex pt-1"},[e("div",{staticClass:"flex-auto cursor-pointer",attrs:{align:"center"},on:{click:function(e){return t.inputModal("edit",i)}}},[e("i",{staticClass:"material-icons text-lg icon align"},[t._v("edit")])]),t._v(" "),e("div",{staticClass:"flex-auto cursor-pointer",attrs:{align:"center"},on:{click:function(e){return t.deleteData(i)}}},[e("i",{staticClass:"material-icons text-lg icon align"},[t._v("delete")])])])])],1)}))}}])},[e("template",{slot:"thead"},[e("vs-th",[t._v("Title")]),t._v(" "),e("vs-th",[t._v("Key Responsibilities")]),t._v(" "),e("vs-th",[e("div",{staticClass:"flex w-full"},[e("div",{staticClass:"flex-auto"},[t._v("Skill")]),t._v(" "),e("div",{staticClass:"flex-auto",staticStyle:{"max-width":"50px"}},[t._v("Scale")])])]),t._v(" "),e("vs-th",{staticClass:"w-10 text-center"},[t._v("Action")])],1)],2)],1)]),t._v(" "),e("vs-popup",{attrs:{title:t.modalTitle,active:t.inputModalSt},on:{"update:active":function(i){t.inputModalSt=i}}},[e("form",[e("div",{},[e("div",{},[e("div",{staticClass:"flex-auto"},[e("vs-input",{staticClass:"w-full pt-3",attrs:{"label-placeholder":"Job Title"},model:{value:t.jobTitle,callback:function(i){t.jobTitle=i},expression:"jobTitle"}})],1),t._v(" "),e("validate-data",{attrs:{rules:"required",value:t.jobTitle,name:"jobTitle",altName:"job Title"}})],1),t._v(" "),t._l(t.skillData,(function(i,a){return e("div",{key:a},[e("div",{staticClass:"vx-row pt-1"},[e("div",{staticClass:"vx-col md:w-5/12 w-full"},[e("search-box",{attrs:{label:"Skill",items:t.prefix.jobSkillData},model:{value:i.skill,callback:function(e){t.$set(i,"skill",e)},expression:"item.skill"}}),t._v(" "),e("validate-data",{attrs:{rules:"required",value:i.skill,name:"skillData."+a+".skill",altName:"skill"}})],1),t._v(" "),e("div",{staticClass:"vx-col md:w-5/12 w-full overflow-hidden"},[e("vs-select",{staticClass:"w-full",attrs:{label:"Skill Scale",autocomplete:""},model:{value:i.scale,callback:function(e){t.$set(i,"scale",e)},expression:"item.scale"}},t._l(t.prefix.jobSkillScaleData,(function(t,i){return e("vs-select-item",{key:i,attrs:{value:t.name,text:t.name}})})),1),t._v(" "),e("validate-data",{attrs:{rules:"required",value:i.scale,name:"skillData."+a+".scale",altName:"scale"}})],1),t._v(" "),e("div",{staticClass:"vx-col md:w-1/12 w-full pt-6"},[e("span",{staticClass:"centerx"},[e("vs-tooltip",{attrs:{text:"Remove"}},[e("vs-button",{directives:[{name:"show",rawName:"v-show",value:a||!a&&t.skillData.length>1,expression:"index || ( !index && skillData.length > 1)"}],staticClass:"flex-auto mr-3",attrs:{size:"large",color:"danger",type:"flat","icon-pack":"feather",icon:"icon-x"},on:{click:function(i){return t.manageSkill("delete",a)}}})],1),t._v(" "),e("vs-tooltip",{attrs:{text:"Add New"}},[e("vs-button",{directives:[{name:"show",rawName:"v-show",value:a===t.skillData.length-1,expression:"index === skillData.length-1"}],staticClass:"flex-auto",attrs:{size:"large",color:"primary",type:"flat","icon-pack":"feather",icon:"icon-plus"},on:{click:function(i){return t.manageSkill("newItem")}}})],1)],1)])])])})),t._v(" "),e("div",{staticClass:"pt-6"},[e("vs-textarea",{attrs:{label:"Key Responsibilities"},model:{value:t.keyResponsibilities,callback:function(i){t.keyResponsibilities=i},expression:"keyResponsibilities"}})],1),t._v(" "),e("validate-data",{attrs:{rules:"required",value:t.keyResponsibilities,name:"keyResponsibilities",altName:"key responsibilities"}})],2),t._v(" "),e("div",{staticClass:"mt-8"},["new"==t.modalType?e("div",{staticClass:"pt-1",attrs:{align:"right"}},[e("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(i){return t.create()}}},[t._v("Create")])],1):t._e(),t._v(" "),"edit"==t.modalType?e("div",{staticClass:"pt-1",attrs:{align:"right"}},[e("vs-button",{attrs:{disabled:t.btnDisabled},on:{click:function(i){return t.update()}}},[t._v("Update")])],1):t._e()])])])],1)])}),[],!1,null,null,null);i.default=r.exports}}]);