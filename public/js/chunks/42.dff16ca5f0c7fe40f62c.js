(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{Kdgl:function(t,n,a){"use strict";a("nQ2o")},Mn6g:function(t,n,a){"use strict";a.r(n);var e=a("o0o1"),r=a.n(e),i=a("t2rG"),o={props:{group:{required:!0,type:Array}},components:{draggable:a.n(i).a},name:"nested-draggable"},s=(a("Kdgl"),a("KHd+"));function c(t,n,a,e,r,i,o){try{var s=t[i](o),c=s.value}catch(t){return void a(t)}s.done?n(c):Promise.resolve(c).then(e,r)}function u(t){return function(){var n=this,a=arguments;return new Promise((function(e,r){var i=t.apply(n,a);function o(t){c(i,e,r,o,s,"next",t)}function s(t){c(i,e,r,o,s,"throw",t)}o(void 0)}))}}var l={components:{nestedDraggable:Object(s.a)(o,(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("draggable",{staticClass:"dragArea",attrs:{tag:"ul",list:t.group,group:{name:"g1"}}},t._l(t.group,(function(n){return a("li",{key:n.name},[a("div",{staticClass:"dragtitle"},[t._v(t._s(n.name))]),t._v(" "),a("div",{staticClass:"dragbox"},[a("nested-draggable",{attrs:{group:n.children}})],1)])})),0)}),[],!1,null,"4ec953e2",null).exports},data:function(){return{organizationList:[]}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;return u(r.a.mark((function n(){var a,e;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,axios.get("/api/organization-tree/data");case 3:a=n.sent,(e=a.data).constructor===Array?t.organizationList=e:t.organizationList=[],n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t.notificationAlert(n.t0.response);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},saveTree:function(){var t=this;return u(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a={organizationList:t.organizationList},axios.post("/api/organization-tree/data/update",a).then((function(n){t.inputModalSt=!1,t.notificationAlert(n)})).catch((function(n){t.notificationAlert(n.response)}));case 2:case"end":return n.stop()}}),n)})))()}}},d=Object(s.a)(l,(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("vx-card",{attrs:{title:""}},[a("div",{staticClass:"flex pb-3"},[a("div",{staticClass:"flex-auto font-bold"},[t._v("Organization tree")]),t._v(" "),a("div",[a("vs-button",{attrs:{size:"small"},on:{click:function(n){return t.saveTree()}}},[t._v("Update")])],1)]),t._v(" "),a("div",[a("nested-draggable",{attrs:{group:t.organizationList}})],1)])}),[],!1,null,null,null);n.default=d.exports},TXy3:function(t,n,a){(t.exports=a("I1BE")(!1)).push([t.i,".dragArea[data-v-4ec953e2]{padding-left:20px}.dragtitle[data-v-4ec953e2]{padding:10px;margin:2px;border:1px solid #e1e1e1}",""])},nQ2o:function(t,n,a){var e=a("TXy3");"string"==typeof e&&(e=[[t.i,e,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(e,r);e.locals&&(t.exports=e.locals)}}]);